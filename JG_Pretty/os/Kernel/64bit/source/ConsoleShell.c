/**
 *  file    ConsoleShell.c
 *  date    2009/01/31
 *  author  kkamagui 
 *          Copyright(c)2008 All rights reserved by kkamagui
 *  brief   �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕�뜝�럥�맶�뜝�럥�쐾�뜝�럡�맰�뜝�럥�맶�뜝�럥�쐾�뜝�럡�떓 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲꾧퀗�뫒�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� �뜝�럥�맶�뜝�럥�쐾�뜝�럥萸쇽옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑋�썒�슓維낉옙�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥��嶺뚮캙維뽳옙留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲
 */

#include "ConsoleShell.h"
#include "Console.h"
#include "Keyboard.h"
#include "Utility.h"
#include "PIT.h"
#include "RTC.h"
#include "AssemblyUtility.h"
#include "Task.h"
#include "Synchronization.h"
#include "DynamicMemory.h"
#include "HardDisk.h"
#include "SerialPort.h"
#include "MPConfigurationTable.h"
#include "LocalAPIC.h"
#include "MultiProcessor.h"
#include "IOAPIC.h"
#include "InterruptHandler.h"
#include "VBE.h"
#include "SystemCall.h"
#include "Loader.h"
#include "storage/usb_msd.h"
#include "RAMDisk.h"
#include "utility.h"
#include "fat32/fat_defs.h"

#include "NETPROTOCOL/socket.h"
#include "NETPROTOCOL/if.h"
#include "MODULE/ftp.h"
// �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡�꺓�뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
SHELLCOMMANDENTRY gs_vstCommandTable[] =
{
        { "help", "Show Help", Help },
        { "cls", "Clear Screen", Cls },
		{ "urs", "usbreadsector", UsbReadSector },
		{ "uws", "usbwritesector", UsbWriteSector },
		{ "ftp", "Ftp network", Ftp },
	    { "totalram", "Show Total RAM Size", ShowTotalRAMSize },
        { "shutdown", "Shutdown And Reboot OS", Shutdown },
        { "cpuspeed", "Measure Processor Speed", MeasureProcessorSpeed },
        { "date", "Show Date And Time", ShowDateAndTime },
        { "changepriority", "Change Task Priority, ex)changepriority 1(ID) 2(Priority)",
                ChangeTaskPriority },
        { "tasklist", "Show Task List", ShowTaskList },
        { "killtask", "End Task, ex)killtask 1(ID) or 0xffffffff(All Task)", KillTask },
        { "cpuload", "Show Processor Load", CPULoad },
        { "showmatrix", "Show Matrix Screen", ShowMatrix },
        { "dynamicmeminfo", "Show Dyanmic Memory Information", ShowDyanmicMemoryInformation },
        { "hddinfo", "Show HDD Information", ShowHDDInformation },
        { "readsector", "Read HDD Sector, ex)readsector 0(LBA) 10(count)", 
                ReadSector },
        { "writesector", "Write HDD Sector, ex)writesector 0(LBA) 10(count)", 
                WriteSector },
        { "mounthdd", "Mount HDD", MountHDD },
        { "formathdd", "Format HDD", FormatHDD },
        { "filesysteminfo", "Show File System Information", ShowFileSystemInformation },
        { "createfile", "Create File, ex)createfile a.txt", CreateFile },
        { "del", "Delete File, ex)deletefile a.txt", DeleteFile },
        { "dir", "Show Directory", ShowRootDirectory },
        { "writefile", "Write Data To File, ex) writefile a.txt", WriteDataToFile },
        { "readfile", "Read Data From File, ex) readfile a.txt", ReadDataFromFile },
        { "flush", "Flush File System Cache", FlushCache },
        { "download", "Download Data From Serial, ex) download a.txt", DownloadFile },
        { "showmpinfo", "Show MP Configuration Table Information", ShowMPConfigurationTable },
        { "showirqintinmap", "Show IRQ->INITIN Mapping Table", ShowIRQINTINMappingTable },
        { "showintproccount", "Show Interrupt Processing Count", ShowInterruptProcessingCount },
        { "changeaffinity", "Change Task Affinity, ex)changeaffinity 1(ID) 0xFF(Affinity)",
                ChangeTaskAffinity },
        { "vbemodeinfo", "Show VBE Mode Information", ShowVBEModeInfo },
        { "testsystemcall", "Test System Call Operation", TestSystemCall },
        { "exec", "Execute Application Program, ex)exec a.elf argument", 
                ExecuteApplicationProgram },
        { "installpackage", "Install Package To HDD", InstallPackage },
		{"mkdir","make directory",CreateDirectory},
		{"ping","ping test",Ping},
		{"cat","cat file",Cat},
		{"svr","svr",SVR},
};

//==============================================================================
//  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨살삕�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곤옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲꾧퀗�뫒�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅勇싲즾踰귨옙�맶�뜝�럥�쑅占쎄괌占쎈짗占쎌굲�뜝�럥�졑占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윥占쎈즶�뜝�럥夷⑨옙�쐻�뜝占�
//==============================================================================
/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲꾧퀗�뫒�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윥占쎈탵�뜝�럥�맶�뜝�럥�쑅�뜝�럥�몥 �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅占쎈뙕占쎈츐占쎌굲濾곌풜堉뱄옙�맶占쎈쐻�뜝占�
 */

void StartConsoleShell( void )
{
    char vcCommandBuffer[ CONSOLESHELL_MAXCOMMANDBUFFERCOUNT ];
    int iCommandBufferIndex = 0;
    BYTE bKey;
    int iCursorX, iCursorY;
    CONSOLEMANAGER* pstConsoleManager;
    
    // �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕�뜝�럥�맶�뜝�럥�쐾�뜝�럡�맰�뜝�럥�맶�뜝�럥�쐾�뜝�럡�떓占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쐾�뜝�럥萸쇽옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈し�뜝�럩堉뷂옙爰뗥뜝�럩援뀐옙�쐻占쎈윥占쎈엶�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼臾뺤삕占쎌맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑋�뜝�럥痢ｅ뜝�럥�맶�뜝�럥�쑅�뜝�럩留쏙옙�쐻占쎈윥占쎌넁�뜝�뜦維�占쎈뮡占쎈쐻占쎈쑆�젆諭꾩삕占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕筌륅옙�뛾占썼쥈�뫗援뀐옙�쐻占쎈윞占쎄퐶
    pstConsoleManager = GetConsoleManager();
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥獒뺤엺�쐻占쎈윥占쎈엶占쎈쐻占쎈윥�맱猷잙쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    Printf( CONSOLESHELL_PROMPTMESSAGE );
    
    // �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕�뜝�럥�맶�뜝�럥�쐾�뜝�럡�맰�뜝�럥�맶�뜝�럥�쐾�뜝�럡�떓 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲꾧퀗��占쎌굲 �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�맱�뎽�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈쑓占쎈쐻占쎈윪占쎈㎡占쎈쎗占쎈즴罹뉐뜝�럥諭ο옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� TRUE占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�걫�뜝�럥堉ｏ옙留긺솒�굦�꼥占쎈쐻占쎈짗占쎌굲�뜝�럥痢㏆옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕筌륅옙�뜝�럩逾쎾뜝�럩援꿴썒占쏙옙援�占쎌굲
    while( pstConsoleManager->bExit == FALSE )
    {

        bKey = GetCh();

        // �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕�뜝�럥�맶�뜝�럥�쐾�뜝�럡�맰�뜝�럥�맶�뜝�럥�쐾�뜝�럡�떓 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲꾧퀗��占쎌굲 �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�맱�뎽�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈쑓占쎈쐻占쎈윪占쎈㎡占쎈쎗占쎈즴罹뉐뜝�럥諭ο옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쎼깷�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�뜝�럥�뿮�뜝�럩紐앭뜝�럥�맶�뜝�럥�쑅�뜏類㏃삕 �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅占쎈뙕占쎈츐占쎌굲濾곌풜�뙔占쎌굲�뜝�럩紐뤄┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援�
        if( pstConsoleManager->bExit == TRUE )
        {
            break;
        }
        
        if(  bKey == '`' )
        {
            break;
        }
        else if( bKey == KEY_BACKSPACE )
        {
            if( iCommandBufferIndex > 0 )
            {
                // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈눇�뙼�맧彛묈뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈륵 �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�껊쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뵩占쎈첍�뜝�럥�닖占쎈쐻占쎈윞占쏙옙�뜝�럥�걤�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뙁占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥堉볡솾�꺂�뒧占쎈�뺝뜝�럥爾�占쎈쐻占쎈윞�뙼占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵩占쎄뎃�뜝�럩留띰옙�쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슣�돵�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨살삕�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�⑤베彛좂춯節뗣�뺧옙�굲�뜝�럥�룚占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊
                // �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃寃쇰쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윪筌띾끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�ο펲占쎈즴占쎈뼟�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥堉볡솾�꺂�뒧占쎈�뺝뜝�럥爾�占쎈쐻占쎈윞�뙼占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�삕占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곤옙
                GetCursor( &iCursorX, &iCursorY );
                PrintStringXY( iCursorX - 1, iCursorY, " " );
                SetCursor( iCursorX - 1, iCursorY );
                iCommandBufferIndex--;
            }
        }
        else if( bKey == KEY_ENTER )
        {
            Printf( "\n" );
            
            if( iCommandBufferIndex > 0 )
            {
                // �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈슁�삕筌뚭퍜�삕�뜮�씢�쐻占쎈윞占썩넃占쎌뼐�뜙占쎌굲�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨살삕�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
                vcCommandBuffer[ iCommandBufferIndex ] = '\0';
                ExecuteCommand( vcCommandBuffer );
            }
            
            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥獒뺤엺�쐻占쎈윥占쎈엶占쎈쐻占쎈윥�맱猷잙쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썲뜝占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き�뜝占�
            Printf( "%s", CONSOLESHELL_PROMPTMESSAGE );            
            MemSet( vcCommandBuffer, '\0', CONSOLESHELL_MAXCOMMANDBUFFERCOUNT );
            iCommandBufferIndex = 0;
        }
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�삕, CAPS Lock, NUM Lock, Scroll Lock占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥堉볟뜝�럥�맶�뜝�럥�쑅�뜝�럡�돸�뜝�럥�맶�뜝�럥�쑅嶺뚮쵓�삕
        else if( ( bKey == KEY_LSHIFT ) || ( bKey == KEY_RSHIFT ) ||
                 ( bKey == KEY_CAPSLOCK ) || ( bKey == KEY_NUMLOCK ) ||
                 ( bKey == KEY_SCROLLLOCK ) )
        {
            ;
        }
        else if( bKey < 128 )
        {
            // TAB占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�⑤베彛좂춯節뗣�뺧옙�굲�뜝�럥�룚占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡愿듸옙�쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪甕곌낑�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄퐶
            if( bKey == KEY_TAB )
            {
                bKey = ' ';
            }
            
            // 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�맔占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈�占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�걫�뜝�럥堉ｏ옙鍮듿뜝�뜴�쐻占쎈윪�굢�굝�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲
            if( iCommandBufferIndex < CONSOLESHELL_MAXCOMMANDBUFFERCOUNT )
            {
                vcCommandBuffer[ iCommandBufferIndex++ ] = bKey;
                Printf( "%c", bKey );
            }
        }
    }


    Printf("Exist Console Shell");

    *( BYTE* ) VBE_STARTGRAPHICMODEFLAGADDRESS = 1;
    StartWindowManager();
}

/*
 *  �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�솕�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖�뜝�럥苑좑옙�뱫�궡�뵱�뜝�럥���뜝�럩逾℡뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌뚮겭�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�솕�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮦�뜝�럥彛볟뜝�럥�걤�뜝�럩逾쎾뜝�럩援꿨뜝�럡愿뚳옙�롳옙占쏙옙留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵰占쎈떜�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
void ExecuteCommand( const char* pcCommandBuffer )
{
    int i, iSpaceIndex;
    int iCommandBufferLength, iCommandLength;
    int iCount;
    
    // �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�⑤베彛좂춯節뗣�뺧옙�굲�뜝�럥�룚占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡愿듸옙�쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅勇싲즾踰귨옙�맶�뜝�럥�쑅嶺뚮씞援⑼옙�굲�뜝�럥�뿞�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�솕�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    iCommandBufferLength = kStrLen( pcCommandBuffer );
    for( iSpaceIndex = 0 ; iSpaceIndex < iCommandBufferLength ; iSpaceIndex++ )
    {
        if( pcCommandBuffer[ iSpaceIndex ] == ' ' )
        {
            break;
        }
    }
    
    // �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡�꺓�뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈�∽옙�쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�솻洹⑥삕�뜝�럡�렊占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�떬�씮�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌뚮겭�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣�돵�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�뮋�삕占쎄뎡�뜝�럩堉뷂옙�뼺�렭占쎈쐣占쎌굲力놂옙占썩뫀�뵛占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥瑗η춯�슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먲퐢彛ワ옙鍮듿뜝�뜴�쐻占쎈윪占쎈쨮占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄섐占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲
    iCount = sizeof( gs_vstCommandTable ) / sizeof( SHELLCOMMANDENTRY );
    for( i = 0 ; i < iCount ; i++ )
    {
        iCommandLength = kStrLen( gs_vstCommandTable[ i ].pcCommand );
        // �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�꽴�뭿�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪甕곌낑�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�占쎄턁占쎈닖占쎈쐻占쎈윞占쏙옙�뜝�럥�걤�뛾�룄�돪占쏙옙�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먲퐢彛ワ옙鍮듿뜝�뜴�쐻占쎈윪占쎈쨮占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�솻洹⑥삕�뜝�럡�렊占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�삕
        if( ( iCommandLength == iSpaceIndex ) &&
            ( MemCmp( gs_vstCommandTable[ i ].pcCommand, pcCommandBuffer,
                       iSpaceIndex ) == 0 ) )
        {
            gs_vstCommandTable[ i ].pfFunction( pcCommandBuffer + iSpaceIndex + 1 );
            break;
        }
    }

    // �뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈펾筌욌냵�삕占쎈룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃寃쇰쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎌녇占쎄틓占쎈뮇�뜝�럥竊묈뜝�럩�쟼�뜝�럥堉졾뜝�럩援뀐옙�쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈윛占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨λ걠占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃寃쇰쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌ｏ옙 �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    if( i >= iCount )
    {
        Printf( "'%s' is not found.\n", pcCommandBuffer );
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼臾뺤삕占쎌맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑋�뜝�럥痢ｅ뜝�럥�맶�뜝�럥�쑅�뜝�럩留쏙옙�쐻占쎈윥占쎌넁�뜝�뜦維�占쎈뮡占쎈쐻占쎈쑆�젆諭꾩삕占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き�뜝占�
 */
void InitializeParameter( PARAMETERLIST* pstList, const char* pcParameter )
{
    pstList->pcBuffer = pcParameter;
    pstList->iLength = kStrLen( pcParameter );
    pstList->iCurrentPosition = 0;
}

/**
 *  �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�⑤베彛좂춯節뗣�뺧옙�굲�뜝�럥�룚占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡愿듸옙�쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅勇싲즾踰귨옙�맶�뜝�럥�쑅嶺뚮씞援⑼옙�굲�뜝�럥�뿞�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�뜾紐닸�⑤㈇�렊�뜝�럥�맶�뜝�럥�쑅占쎈뙀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ룊�삕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싦펺�뮋�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕筌륅옙�뛾占썼쥈�뫗援뀐옙�쐻占쎈윞占쎄퐶
 */
int GetNextParameter( PARAMETERLIST* pstList, char* pcParameter )
{
    int i;
    int iLength;

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽癲ル슢�뿪占쎌굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕�뤃�쉮�뼀筌뤿슣�굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈윛占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄�釉�鍮듿뜝�뜴�뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥筌앹뇯�쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占�
    if( pstList->iLength <= pstList->iCurrentPosition )
    {
        return 0;
    }
    
    // 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싦펺�맟鍮듿뜝�뜴�쐻占쎈윪�억옙占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슣�돵�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎈돗�뜝�럩�뮛�뜝�럥�뼌占쎈쐻占쎈윪繹먮퀫�쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�⑤베彛좂춯節뗣�뺧옙�굲�뜝�럥�룚占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�솻洹⑥삕�뜝�럡�렊占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴占�
    for( i = pstList->iCurrentPosition ; i < pstList->iLength ; i++ )
    {
        if( pstList->pcBuffer[ i ] == ' ' )
        {
            break;
        }
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎈즰�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒占쎈뼀占쎈뼗甕겹룇�삕�뤃�쉩�쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐옙�쐻占쎈윥�댚�엺�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싦펺�뮋�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕筌륅옙�뛾占썼쥈�뫗援뀐옙�쐻占쎈윞占쎄퐶
    MemCpy( pcParameter, pstList->pcBuffer + pstList->iCurrentPosition, i );
    iLength = i - pstList->iCurrentPosition;
    pcParameter[ iLength ] = '\0';

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�뜾紐닸�⑤㈇�렊�뜝�럥�맶�뜝�럥�쑅占쎈뙀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뵩占쎈첍�뜝�럥�닖占쎈쐻占쎈윞占쎈릊占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占�
    pstList->iCurrentPosition += iLength + 1;
    return iLength;
}
    
//==============================================================================
//  �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�솕�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮦�뜝�럥彛볟뜝�럥�걤�뜝�럩逾쎾뜝�럩援꿨뜝�럡愿뚳옙�롳옙占쏙옙留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윥占쎈즶�뜝�럥夷⑨옙�쐻�뜝占�
//==============================================================================
/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲꾧퀗��占쎌굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣鍮볩옙肉ε뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅곗녇占쎄틓占쎈뮛�뜝�럥�럯�뜝�럩逾쀥뜝�럥�맶�뜝�럥�쑅占쎈쨨�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
 */
static void Help( const char* pcCommandBuffer )
{
    int i;
    int iCount;
    int iCursorX, iCursorY;
    int iLength, iMaxCommandLength = 0;
    
    
    Printf( "=========================================================\n" );
    Printf( "                    MINT64 Shell Help                    \n" );
    Printf( "=========================================================\n" );
    
    iCount = sizeof( gs_vstCommandTable ) / sizeof( SHELLCOMMANDENTRY );

    // 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈�� 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈윥�씙�뜝�럡�렊 �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑅�뜝�럩�젉占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싦펺�뮋�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�몘嶺뚮쪇�뒻占쎌굲力놂옙沃섓옙甕겹룇�삕�뤃占썲뜝�럩援�
    for( i = 0 ; i < iCount ; i++ )
    {
        iLength = kStrLen( gs_vstCommandTable[ i ].pcCommand );
        if( iLength > iMaxCommandLength )
        {
            iMaxCommandLength = iLength;
        }
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣鍮볩옙肉ε뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅곗녇占쎄틓占쎈뮛�뜝�럥�뿭占쎈쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    for( i = 0 ; i < iCount ; i++ )
    {
        Printf( "%s", gs_vstCommandTable[ i ].pcCommand );
        GetCursor( &iCursorX, &iCursorY );
        SetCursor( iMaxCommandLength, iCursorY );
        Printf( "  - %s\n", gs_vstCommandTable[ i ].pcHelp );

        // 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�룞彛쒙옙維��맱袁��쐻占쎈윥占쎈쟼占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡�꺓 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윪�몭�궪�삕占쎄뎡占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�뜝�럥�뿮�뜝�럩紐앭뜝�럥�맶�뜝�럥�쑅�뜏類㏃삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥筌앹뇯�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�젆怨⑸쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒�뜝�럡�돸占쎈쐻占쎈윞占쎈쑆占쎈쐻占쎈윞占쎌삏占쎈㎟熬곎딆굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占�
        if( ( i != 0 ) && ( ( i % 20 ) == 0 ) )
        {
            Printf( "Press any key to continue... ('q' is exit) : " );
            if( GetCh() == 'q' )
            {
                Printf( "\n" );
                break;
            }        
            Printf( "\n" );
        }
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윪繹먮낑�삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎌녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占�
 */
static void Cls( const char* pcParameterBuffer )
{

    // 占쎌녇占쎄틓占쎈뮛�뜝�럥�뿭占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뿪占쎌굲�슖�떝�돳�몭�뉖눀�솒占썹댚占쏙옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙占쎄껌占쎌맶�뜝�럥�쑅占쎈쇀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�떬�씮�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑓甕겹렖�쇊占쎈역占쎄쉥占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윪繹먮낑�삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎌녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�룞�삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪筌랃옙, 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 1占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�껊쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슣�돸占쎌굲
    ClearScreen();
    SetCursor( 0, 1 );
}

static void UsbReadSector( const char* pcParameterBuffer )
{
    // 占쎌녇占쎄틓占쎈뮛�뜝�럥�뿭占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뿪占쎌굲�슖�떝�돳�몭�뉖눀�솒占썹댚占쏙옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙占쎄껌占쎌맶�뜝�럥�쑅占쎈쇀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�떬�씮�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑓甕겹렖�쇊占쎈역占쎄쉥占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윪繹먮낑�삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎌녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�룞�삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪筌랃옙, 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 1占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�껊쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슣�돸占쎌굲
    //ClearScreen();

	int idx = 1;
    static char buffer[1024];
	//while(1)
	{

		Sleep(10);
	    Printf("UsbReadSector Called usb_msd_count %s\n",pcParameterBuffer);

	    MemSet(buffer,0,1024);

	    disk_t *disk = GetDisk(0);
	    if(disk == 0)
	    	return;

	    Printf("disk 0 Addr = %q\n",disk);
	    Printf("disk 0 Sector Size = %q\n",disk->size);
	    Printf("disk 0 Sector Name = %s\n",disk->port->name);


	    int j = 0;
	    for(j = 0 ; j<10;j++)
	    {
	    	 MemSet(buffer,0,1024);

	    	usb_readSectors(j,buffer,1,disk);
		    Printf("read buff %d\n",buffer[0]);

		    Sleep(10);
	    }

	}
}

int ftpmain()
{
	startFtpClient("", "");

	return 0;
}

static void Ftp( const char* pcParameterBuffer )
{

	  CreateTask( TASK_FLAGS_LOW | TASK_FLAGS_THREAD , 0, 0,
	                     ( QWORD ) ftpmain, GetAPICID() );
}



static void UsbWriteSector( const char* pcParameterBuffer )
{
	// 占쎌녇占쎄틓占쎈뮛�뜝�럥�뿭占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뿪占쎌굲�슖�떝�돳�몭�뉖눀�솒占썹댚占쏙옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙占쎄껌占쎌맶�뜝�럥�쑅占쎈쇀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�떬�씮�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑓甕겹렖�쇊占쎈역占쎄쉥占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윪繹먮낑�삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎌녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�룞�삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪筌랃옙, 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 1占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�껊쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슣�돸占쎌굲
	    //ClearScreen();


	    Printf("UsbWriteSector Called usb_msd_count %s\n",pcParameterBuffer);
	    static char outbuffer[1024];
	    MemSet(outbuffer,0,1024);

	    disk_t *disk = GetDisk(0);
	   	    if(disk == 0)
	   	    	return;

	    Printf("disk 0 Addr = %q\n",disk);
	    Printf("disk 0 Sector Size = %q\n",disk->size);
	    Printf("disk 0 Sector Name = %s\n",disk->port->name);


	    int k;
	    for(k=0;k<10;k++)
	    {
	    	outbuffer[0] = k;
		    usb_writeSectors(k,outbuffer,1,disk);

		    Printf("buff %s\n",outbuffer);

		    Sleep(10);

	    }
}

/**
 *  �뜝�럥�맶�뜝�럥�쑅櫻뗫봾履뗰옙�굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈짗占쎌굲�뜝�럥�맶�뜝�럥�쐾占쎄턀占쎄뭍占쎌맶�뜝�럥�쑅�뜝�럥�젛占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮀占쎌젂占쎈ぜ占쎈�嶺뚮ㅏ援�占쎌굲�뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
 */
static void ShowTotalRAMSize( const char* pcParameterBuffer )
{
    Printf( "Total RAM Size = %d MB\n", GetTotalRAMSize() );
}

/**
 *  PC�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈륵占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄틮(Reboot)
 */
static void Shutdown( const char* pcParamegerBuffer )
{
    Printf( "System Shutdown Start...\n" );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎌녇占쎄틓占쎈뮦�뜝�럩援뀐옙�쐻占쎈윪占쎄샵�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐┼�슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럥裕뗰옙�쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�썒占쏙옙寃뉒뙴紐꾨뼧�뜝�럩�꼥�뜝�럡�궚�뤃占�
    Printf( "Cache Flush... ");
/*    if( FlushFileSystemCache() == TRUE )
    {
        Printf( "Pass\n" );
    }
    else
    {
        Printf( "Fail\n" );
    }
    */
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲�뜝�럥�뉛옙�쐺獄�袁る쭟�뜝�럩援꿨뜝�럥�럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕뉛쫲�냲�삕�윜諛잙쳛占쎄뎡占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈츐占쎈쐻占쎈윥占쎄퐥占쎈쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑋嶺뚮쪇짹占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥鍮앶뇦猿뗫닑占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌뚳옙 PC�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈륵占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄틮
    Printf( "Press Any Key To Reboot PC..." );
    GetCh();
    Reboot();
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏅퀫�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥���뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗癲ル슣鍮뽩뜝�럥흮占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뤁�뜝�룞�삕占쎈쇀疫뀀８�맶�뜝�럥�쑋�뜝�럩議�
 */
static void MeasureProcessorSpeed( const char* pcParameterBuffer )
{
    int i;
    QWORD qwLastTSC, qwTotalTSC = 0;
        
    Printf( "Now Measuring." );
    
    // 10�뜝�럥�맶�뜝�럥�쑅櫻뗫봾履뗰옙�굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣�돵�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈폆 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜮節낅쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱占� 占쎈쐻占쎈윥占쎈닖占쎈쐻占쎈윞占쎈�뤄옙�쐻占쎈윪繹먮낑�삕占쎌맶�뜝�럥�쑅�뜏類쏅즵占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏅퀫�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥���뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗癲ル슣鍮뽩뜝�럥흮占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앷엥�쐻占쎈윥�댚占썲뜝�럥�맶�뜝�럥�쑋�뜝�럩�젲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪獄��뼃�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎌녇占쎄틓占쎈뤁�뜝�룞�삕占쎈쇀疫뀀８�맶�뜝�럥�쑋�뜝�럩議�
    DisableInterrupt();    
    for( i = 0 ; i < 200 ; i++ )
    {
        qwLastTSC = ReadTSC();
        WaitUsingDirectPIT( MSTOCOUNT( 50 ) );
        qwTotalTSC += ReadTSC() - qwLastTSC;

        Printf( "." );
    }
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�뮋�삕占쎄뎡占쎈쐻占쎈윥�몭琯�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒占쎈뼀占쎈뼠占쎌맶�뜝�럥�쑅�뜝�럥�렅
    InitializePIT( MSTOCOUNT( 1 ), TRUE );
    EnableInterrupt();
    
    Printf( "\nCPU Speed = %d MHz\n", qwTotalTSC / 10 / 1000 / 1000 );
}

/**
 *  RTC �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕뉛쫲�냲�삕�윜諛잙쳛占쎄뎡占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈츐占쎈쐻占쎈윥占쎄퐥占쎈쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑋嶺뚮쪇伊쒙옙�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈�섓옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮瑜낆춸占쎈꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void ShowDateAndTime( const char* pcParameterBuffer )
{
    BYTE bSecond, bMinute, bHour;
    BYTE bDayOfWeek, bDayOfMonth, bMonth;
    WORD wYear;

    // RTC �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕뉛쫲�냲�삕�윜諛잙쳛占쎄뎡占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈츐占쎈쐻占쎈윥占쎄퐥占쎈쐻占쎈윞�굜�굩�삕占쎌맶�뜝�럥�쑋嶺뚮쪇伊쒙옙�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃寃쇰쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮瑜낆춸占쎈꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼臾뺤삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
    ReadRTCTime( &bHour, &bMinute, &bSecond );
    ReadRTCDate( &wYear, &bMonth, &bDayOfMonth, &bDayOfWeek );
    
    Printf( "Date: %d/%d/%d %s, ", wYear, bMonth, bDayOfMonth,
             ConvertDayOfWeekToString( bDayOfWeek ) );
    Printf( "Time: %d:%d:%d\n", bHour, bMinute, bSecond );
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�뜦�뙔占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌묒꼪�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뵩占쏙옙�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�솻洹⑥삕�뜝�럡�렊
 */
static void ChangeTaskPriority( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcID[ 30 ];
    char vcPriority[ 30 ];
    QWORD qwID;
    BYTE bPriority;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎈즰�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    GetNextParameter( &stList, vcID );
    GetNextParameter( &stList, vcPriority );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�뜦�뙔占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌묒꼪�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뵩占쏙옙�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�솻洹⑥삕�뜝�럡�렊
    if( MemCmp( vcID, "0x", 2 ) == 0 )
    {
        qwID = AToI( vcID + 2, 16 );
    }
    else
    {
        qwID = AToI( vcID, 10 );
    }
    
    bPriority = AToI( vcPriority, 10 );
    
    Printf( "Change Task Priority ID [0x%q] Priority[%d] ", qwID, bPriority );
    if( ChangePriority( qwID, bPriority ) == TRUE )
    {
        Printf( "Success\n" );
    }
    else
    {
        Printf( "Fail\n" );
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈눇�뙼�맧彛묈뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈륵 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
 */
static void ShowTaskList( const char* pcParameterBuffer )
{
    int i;
    TCB* pstTCB;
    int iCount = 0;
    int iTotalTaskCount = 0;
    char vcBuffer[ 20 ];
    int iRemainLength;
    int iProcessorCount;
    
    // �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ㅼ녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅占쎈뙕占쎈츐占쎌굲濾곌풜�뙔占쎌굲�뜝�럩紐뤄┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣鍮섓옙�닚占쎈퉲�뜝�뜴�뒙占쎈섞�댆洹⑥삕繹먮퀫�쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�뤈�뜝�럩援뀐옙�쐻占쎈윥�댆�뿥�쐻占쎈윪�뤃轅⑺벖占쎌돳�몭�뉖눀�솒占썹댚恝�삕占쎌맶�뜝�럥�쑋嶺뚮쪇伊쒙옙�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥壤쎪껊쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뿪占쎌굲
    iProcessorCount = GetProcessorCount(); 
    
    for( i = 0 ; i < iProcessorCount ; i++ )
    {
        iTotalTaskCount += GetTaskCount( i );
    }
    
    Printf( "================= Task Total Count [%d] =================\n", 
             iTotalTaskCount );
    
    // �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 2占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽癲ル슢�뵯�뜝�룞�맊占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�맟鍮듿뜝�뜴�뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�뤈�뜝�럩援뀐옙�쐻占쎈윥�댆�뿥�쐻占쎈윪�뤃轅⑺벖占쎌돳�몭�뉖눀�솒占썹댚恝�삕占쎌맶�뜝�럥�쑋嶺뚮쪋�삕 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁⑹굲占쎈쐻占쎈윥�댚管�뒍甕곗슦�뒭占쎄뎡 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸뱺�쐪筌먲퐢猷뤷뜝�럩援뀐옙�쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    if( iProcessorCount > 1 )
    {
        // 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�뤈�뜝�럩援뀐옙�쐻占쎈윥�댆�뿥�쐻占쎈윪�뤃轅⑺벖占쎌돳�몭�뉖눀�솒占썹댚恝�삕占쎌맶�뜝�럥�쑋嶺뚮쪋�삕 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁⑹굲占쎈쐻占쎈윥�댚管�뒍甕곗슦�뒭占쎄뎡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸뱺�쐪筌먲퐢猷뤷뜝�럩援뀐옙�쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
        for( i = 0 ; i < iProcessorCount ; i++ )
        {
            if( ( i != 0 ) && ( ( i % 4 ) == 0 ) )
            {
                Printf( "\n" );
            }
            
            SPrintf( vcBuffer, "Core %d : %d", i, GetTaskCount( i ) );
            Printf( vcBuffer );
            
            // �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�맔占쎌굲�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�ⓦ끉�굲占쎈쐻占쎈윥占쎈뮝�뜝�럥鍮껓옙�쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윪獄��궍�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룲�뜝�럩�읁占쎈쐻占쎈윥筌앸떣�쐻占쎈짗占쎌굲嚥싳쉶瑗э옙�뒭占쎄뎡 占쎌녇占쎄틓占쎈뮦�뜝�럩援꿨뜝�럥苑좑옙�뫅�맊�댚諛㏓쐻占쎈윪�뤃占�
            iRemainLength = 19 - kStrLen( vcBuffer );
            MemSet( vcBuffer, ' ', iRemainLength );
            vcBuffer[ iRemainLength ] = '\0';
            Printf( vcBuffer );
        }
        
        Printf( "\nPress any key to continue... ('q' is exit) : " );
        if( GetCh() == 'q' )
        {
            Printf( "\n" );
            return ;
        }
        Printf( "\n\n" );
    }
    
    for( i = 0 ; i < TASK_MAXCOUNT ; i++ )
    {
        // TCB�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅勇싲즾踰귨옙�맶�뜝�럥�쑅占쎄덩占쎄틛占쎌굲�뜝�럥夷ワ옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 TCB占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�떬�씮�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌ο옙 �슖�떝�돳�몭�띿삕亦끸댙�삕�댆�엪�삕占쎌맶�뜝�럥�쑅�뜝�럡�꺓占쎌녇占쎄틓占쎈뮛�뜝�럥踰⑨옙�굲�뜝�럡�렊 ID�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
        pstTCB = GetTCBInTCBPool( i );
        if( ( pstTCB->stLink.qwID >> 32 ) != 0 )
        {
            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭺嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 6占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�걫�뜝�럥堉ｏ옙鍮듿뜝�뜴�쐻占쎈윪�억옙占쎈쐻占쎈윪筌띻쒀�삕占쎌맶�뜝�럥�쑅�뜝�럥�젵, �뜝�럥�맶�뜝�럥�몘嶺뚮쪇�뒻占쎌굲力놂옙沃섓퐢�맶�뜝�럥�쐾�뜝�럥堉� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉�占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띿옃鍮듿뜝�뜴�쐻占쎈윪占쎈쨮占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘�뜝�럥�맶�뜝�럥�쐾占쎈쇊�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈し癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄섐占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲
            if( ( iCount != 0 ) && ( ( iCount % 6 ) == 0 ) )
            {
                Printf( "Press any key to continue... ('q' is exit) : " );
                if( GetCh() == 'q' )
                {
                    Printf( "\n" );
                    break;
                }
                Printf( "\n" );
            }
            
            Printf( "[%d] Task ID[0x%Q], Priority[%d], Flags[0x%Q], Thread[%d]\n", 1 + iCount++,
                     pstTCB->stLink.qwID, GETPRIORITY( pstTCB->qwFlags ), 
                     pstTCB->qwFlags, GetListCount( &( pstTCB->stChildThreadList ) ) );
            Printf( "    Core ID[0x%X] CPU Affinity[0x%X]\n", pstTCB->bAPICID,
                     pstTCB->bAffinity );
            Printf( "    Parent PID[0x%Q], Memory Address[0x%Q], Size[0x%Q]\n",
                    pstTCB->qwParentProcessID, pstTCB->pvMemoryAddress, pstTCB->qwMemorySize );
        }
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮲�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援�
 */
static void KillTask( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcID[ 30 ];
    QWORD qwID;
    TCB* pstTCB;
    int i;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎈즰�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    GetNextParameter( &stList, vcID );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮲�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援�
    if( MemCmp( vcID, "0x", 2 ) == 0 )
    {
        qwID = AToI( vcID + 2, 16 );
    }
    else
    {
        qwID = AToI( vcID, 10 );
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕占쎈옌�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧 ID占쎌녇占쎄틓占쎈뮛�뜝�럥�뿭占쎈쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮戮녹삕占쎈뼒占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�뜝�럥�뿮�뜝�럩紐앭뜝�럥�맶�뜝�럥�쑅�뜏類㏃삕
    if( qwID != 0xFFFFFFFF )
    {
        pstTCB = GetTCBInTCBPool( GETTCBOFFSET( qwID ) );
        qwID = pstTCB->stLink.qwID;

        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅嶺뚋뀀쳹占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곕끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥占쎈떈
        if( ( ( qwID >> 32 ) != 0 ) && ( ( pstTCB->qwFlags & TASK_FLAGS_SYSTEM ) == 0x00 ) )
        {
            Printf( "Kill Task ID [0x%q] ", qwID );
            if( EndTask( qwID ) == TRUE )
            {
                Printf( "Success\n" );
            }
            else
            {
                Printf( "Fail\n" );
            }
        }
        else
        {
            Printf( "Task does not exist or task is system task\n" );
        }
    }
    // �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕�뜝�럥�맶�뜝�럥�쐾�뜝�럡�맰�뜝�럥�맶�뜝�럥�쐾�뜝�럡�떓 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲꾧퀗�뫒�뜝�룞�삕�뜝�럩援뀐옙�쐻占쎈윥�댚�엺�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몝癲ル슢履뗰옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮲�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곕끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥占쎈떈占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉�占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援�
    else
    {
        for( i = 0 ; i < TASK_MAXCOUNT ; i++ )
        {
            pstTCB = GetTCBInTCBPool( i );
            qwID = pstTCB->stLink.qwID;

            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅嶺뚋뀀쳹占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�삕占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곤옙 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�룞彛쒙옙維��맱袁��쐻占쎈윥占쎈쟼占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윞占쎈쑆占쎈쐻占쎈윥占쎈쟼占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곕끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥占쎈떈
            if( ( ( qwID >> 32 ) != 0 ) && ( ( pstTCB->qwFlags & TASK_FLAGS_SYSTEM ) == 0x00 ) )
            {
                Printf( "Kill Task ID [0x%q] ", qwID );
                if( EndTask( qwID ) == TRUE )
                {
                    Printf( "Success\n" );
                }
                else
                {
                    Printf( "Fail\n" );
                }
            }
        }
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏅퀫�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�떬�씮�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ룊�삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥�땻�쉩�뒙占쎈뙔占쎌굲占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void CPULoad( const char* pcParameterBuffer )
{
    int i;
    char vcBuffer[ 50 ];
    int iRemainLength;
    
    Printf( "================= Processor Load =================\n" ); 
    
    // 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁⑹굲占쎈쐻占쎈윥�댚管�뒍甕곗슦�뒭占쎄뎡 �뜝�럥�맶�뜝�럥�쐾占쎈쇊�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    for( i = 0 ; i < GetProcessorCount() ; i++ )
    {
        if( ( i != 0 ) && ( ( i % 4 ) == 0 ) )
        {
            Printf( "\n" );
        }
        
        SPrintf( vcBuffer, "Core %d : %d%%", i, GetProcessorLoad( i ) );
        Printf( "%s", vcBuffer );
        
        // �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�맔占쎌굲�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�ⓦ끉�굲占쎈쐻占쎈윥占쎈뮝�뜝�럥鍮껓옙�쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윪獄��궍�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룲�뜝�럩�읁占쎈쐻占쎈윥筌앸떣�쐻占쎈짗占쎌굲嚥싳쉶瑗э옙�뒭占쎄뎡 占쎌녇占쎄틓占쎈뮦�뜝�럩援꿨뜝�럥苑좑옙�뫅�맊�댚諛㏓쐻占쎈윪�뤃占�
        iRemainLength = 19 - kStrLen( vcBuffer );
        MemSet( vcBuffer, ' ', iRemainLength );
        vcBuffer[ iRemainLength ] = '\0';
        Printf( vcBuffer );
    }
    Printf( "\n" );
}

// 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럥逾껓옙�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸뱺�쐪筌먲퐢�젿�뜝�럥堉녶뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲占쎌젂占쎈쳟占쎌굲占쎌넂�뜝�룞�삕�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뵩占쎈㎉�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占�
static volatile QWORD gs_qwRandomValue = 0;

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럡萸띶뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶野껉쑬踰됵옙留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럥逾껓옙�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕筌륅옙�뛾占썼쥈�뫗援뀐옙�쐻占쎈윞占쎄퐶
 */
QWORD kRandom( void )
{
    gs_qwRandomValue = ( gs_qwRandomValue * 412153 + 5571031 ) >> 16;
    return gs_qwRandomValue;
}

/**
 *  占쎌녇占쎄틓占쎈뮦�뜝�럥彛볢쓩�맧遊울옙�빃�뜝�럩援뀐옙�쐻占쎈윞�뙼臾뺤삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶野껉쑬踰됵옙留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌ｋ퀫�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲�뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅�뜝�럩留놅옙�쐻占쎈윥�뜎占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占�
 */
static void DropCharactorThread( void )
{
    int iX, iY;
    int i;
    char vcText[ 2 ] = { 0, };

    iX = kRandom() % CONSOLE_WIDTH;
    
    while( 1 )
    {
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙��遺얘턁筌�硫⑤쐻占쎈뼩占쎈룂占쏙옙�뜝�럥�맶占쎈쐻�뜝占�
        Sleep( kRandom() % 20 );
        
        if( ( kRandom() % 20 ) < 16 )
        {
            vcText[ 0 ] = ' ';
            for( i = 0 ; i < CONSOLE_HEIGHT - 1 ; i++ )
            {
                PrintStringXY( iX, i , vcText );
                Sleep( 50 );
            }
        }        
        else
        {
            for( i = 0 ; i < CONSOLE_HEIGHT - 1 ; i++ )
            {
                vcText[ 0 ] = ( i + kRandom() ) % 128;
                PrintStringXY( iX, i, vcText );
                Sleep( 50 );
            }
        }
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�솕�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎌녇占쎄틓占쎈뮛�뜝�럥�꼥占쎈쐻占쎈윞�꽴�엪�삕占쎌맶�뜝�럥�쑅占쎄턀�뜝�룞�삕占쎌맶�뜝�럥�쑅�뜝�럥�젛占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅嶺뚋우삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윪繹먮퀫�쐻占쎈윥占쎈쭢占쎌쐺獄쏆옓爾쎾뜝�럡�렊�뜝�럥�맶�뜝�럥�쑋�뛾占썲뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒�뜝�럡�돸占쎈쐻占쎈윞占쎈쑆占쎈쐻占쎈윞占쎌삫�뜝�럥堉곩뜝�럥�맶�뜝�럥�쑅�뜝�럥鍮앭뜝�럥�맶�뜝�럥�쑅嶺뚋우삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲
 */
static void MatrixProcess( void )
{
    int i;
    
    for( i = 0 ; i < 300 ; i++ )
    {
        if( CreateTask( TASK_FLAGS_THREAD | TASK_FLAGS_LOW, 0, 0, 
            ( QWORD ) DropCharactorThread, TASK_LOADBALANCINGID ) == NULL )
        {
            break;
        }
        
        Sleep( kRandom() % 5 + 5 );
    }
    
    Printf( "%d Thread is created\n", i );

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪雅뚮짘�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈즼占쎌녇占쎄틓占쎈뮛�뜝�럥踰⑨옙�굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援�
    GetCh();
}

/**
 *  占쎌녇占쎄틓占쎈뮛�뜝�럥�꼥占쎈쐻占쎈윞�꽴�엪�삕占쎌맶�뜝�럥�쑅占쎄턀�뜝�룞�삕占쎌맶�뜝�럥�쑅�뜝�럥�젛占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅嶺뚋우삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윪繹먮낑�삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒�뜝�럡�돸占쎈쐻占쎈윞占쎈쑆占쎈쐻占쎈윞占쎌삏占쎈㎟熬곎딆굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占�
 */
static void ShowMatrix( const char* pcParameterBuffer )
{
    TCB* pstProcess;
    
    pstProcess = CreateTask( TASK_FLAGS_PROCESS | TASK_FLAGS_LOW, ( void* ) 0xE00000, 0xE00000, 
                              ( QWORD ) MatrixProcess, TASK_LOADBALANCINGID );
    if( pstProcess != NULL )
    {
        Printf( "Matrix Process [0x%Q] Create Success\n" );

        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭺嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�걫�뜝�럥堉ｏ옙留긺솒�굦�꼥占쎈쐻占쎈짗占쎌굲�뜝�럥痢㏆옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙占쎈쐻占쎈윥�씙�뜝�럡�렊
        while( ( pstProcess->stLink.qwID >> 32 ) != 0 )
        {
            Sleep( 100 );
        }
    }
    else
    {
        Printf( "Matrix Process Create Fail\n" );
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣�돵�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪獄�占� 占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈짗占쎌굲�뜝�럥�맶�뜝�럥�쐾占쎄턀占쎄뭍占쎌맶�뜝�럥�쑅�뜝�럥�젛占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void ShowDyanmicMemoryInformation( const char* pcParameterBuffer )
{
    QWORD qwStartAddress, qwTotalSize, qwMetaSize, qwUsedSize;
    
    GetDynamicMemoryInformation( &qwStartAddress, &qwTotalSize, &qwMetaSize, 
            &qwUsedSize );

    Printf( "============ Dynamic Memory Information ============\n" );
    Printf( "Start Address: [0x%Q]\n", qwStartAddress );
    Printf( "Total Size:    [0x%Q]byte, [%d]MB\n", qwTotalSize, 
            qwTotalSize / 1024 / 1024 );
    Printf( "Meta Size:     [0x%Q]byte, [%d]KB\n", qwMetaSize, 
            qwMetaSize / 1024 );
    Printf( "Used Size:     [0x%Q]byte, [%d]KB\n", qwUsedSize, qwUsedSize / 1024 );
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void ShowHDDInformation( const char* pcParameterBuffer )
{
/*    HDDINFORMATION stHDD;
    char vcBuffer[ 100 ];
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
    if( GetHDDInformation( &stHDD ) == FALSE )
    {
        Printf( "HDD Information Read Fail\n" );
        return ;
    }        
    
    Printf( "============ Primary Master HDD Information ============\n" );
    
    // 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑕占쎌맶�뜝�럥�쑋嶺뚮쪋�삕 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�甕곗쥜�삕筌띾돍�삕占쎌맶�뜝�럥�쐾�뜝�럥猷� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    MemCpy( vcBuffer, stHDD.vwModelNumber, sizeof( stHDD.vwModelNumber ) );
    vcBuffer[ sizeof( stHDD.vwModelNumber ) - 1 ] = '\0';
    Printf( "Model Number:\t %s\n", vcBuffer );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�굩�삕占쎄뎡�뜝�럩堉뷂옙爰뗥뜝�럩援뀐옙�쐻占쎈윥占쎈뭸占쎈쐻占쎈윞占쎈뙃 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�甕곗쥜�삕筌띾돍�삕占쎌맶�뜝�럥�쐾�뜝�럥猷� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    MemCpy( vcBuffer, stHDD.vwSerialNumber, sizeof( stHDD.vwSerialNumber ) );
    vcBuffer[ sizeof( stHDD.vwSerialNumber ) - 1 ] = '\0';
    Printf( "Serial Number:\t %s\n", vcBuffer );

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈쾷占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占�, 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨롫봿援꿨뜝�럩堉뷂옙�렱�쐻占쎈쑆泳�占썹뵓怨쀬쪣占쎌굲嶺뚮엪�삕, 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨롫봿援꿨뜝�럩堉뷂옙�렱�쐻占쎈쑆泳�占썹뵓怨쀬쪣占쎌굲嶺뚮엪�삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    Printf( "Head Count:\t %d\n", stHDD.wNumberOfHead );
    Printf( "Cylinder Count:\t %d\n", stHDD.wNumberOfCylinder );
    Printf( "Sector Count:\t %d\n", stHDD.wNumberOfSectorPerCylinder );
    
    // �뜝�럥�맶�뜝�럥�쑅櫻뗫봾履뗰옙�굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    Printf( "Total Sector:\t %d Sector, %dMB\n", stHDD.dwTotalSectors, 
            stHDD.dwTotalSectors / 2 / 1024 );*/
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎄틞占쎄덩占쎈㎜占쎌굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏅끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�썒占쏙옙援�占쎌굲 LBA 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃寃쇰쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占� 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
 */
static void ReadSector( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcLBA[ 50 ], vcSectorCount[ 50 ];
    DWORD dwLBA;
    int iSectorCount;
    char* pcBuffer;
    int i, j;
    BYTE bData;
    BOOL bExit = FALSE;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빢�삕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈펾筌욌냵�삕占쎈룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺣뿰�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き占쎈쳟占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 LBA 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    if( ( GetNextParameter( &stList, vcLBA ) == 0 ) ||
        ( GetNextParameter( &stList, vcSectorCount ) == 0 ) )
    {
        Printf( "ex) readsector 0(LBA) 10(count)\n" );
        return ;
    }
    dwLBA = AToI( vcLBA, 10 );
    iSectorCount = AToI( vcSectorCount, 10 );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ㅼ녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈짗占쎌굲�뜝�럥�맶�뜝�럥�쐾占쎄턀占쎄뭍占쎌맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅嶺뚮엪�삕占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띾벨�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕占쎌��뜝�럥猶얍뜝�럥占썲뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈윥�씙�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
    pcBuffer = AllocateMemory( iSectorCount * 512 );
    if( ReadHDDSector( TRUE, TRUE, dwLBA, iSectorCount, pcBuffer ) == iSectorCount )
    {
        Printf( "LBA [%d], [%d] Sector Read Success~!!", dwLBA, iSectorCount );
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
        for( j = 0 ; j < iSectorCount ; j++ )
        {
            for( i = 0 ; i < 512 ; i++ )
            {
                if( !( ( j == 0 ) && ( i == 0 ) ) && ( ( i % 256 ) == 0 ) )
                {
                    Printf( "\nPress any key to continue... ('q' is exit) : " );
                    if( GetCh() == 'q' )
                    {
                        bExit = TRUE;
                        break;
                    }
                }                

                if( ( i % 16 ) == 0 )
                {
                    Printf( "\n[LBA:%d, Offset:%d]\t| ", dwLBA + j, i ); 
                }

                // 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�굜占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼臾뺤삕占쎌맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅嶺뚮씚裕わ옙�뗰옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪雅뚮냲�삕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 16占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援꿨뜝�럥�맶�뜝�럥�쑅�뜝�럥�젵 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄틮占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�뜝�럥�뿮�뜝�럩紐앭뜝�럥�맶�뜝�럥�쑅�뜏類㏃삕 0占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌뚮겲�벖占쎌돳�몭�띿삕占쎈뮡�뜝�럡�렊
                bData = pcBuffer[ j * 512 + i ] & 0xFF;
                if( bData < 16 )
                {
                    Printf( "0" );
                }
                Printf( "%X ", bData );
            }
            
            if( bExit == TRUE )
            {
                break;
            }
        }
        Printf( "\n" );
    }
    else
    {
        Printf( "Read Fail\n" );
    }
    
    FreeMemory( pcBuffer );
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎄틞占쎄덩占쎈㎜占쎌굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏅끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�썒占쏙옙援�占쎌굲 LBA 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃寃쇰쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占� 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占�
 */
static void WriteSector( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcLBA[ 50 ], vcSectorCount[ 50 ];
    DWORD dwLBA;
    int iSectorCount;
    char* pcBuffer;
    int i, j;
    BOOL bExit = FALSE;
    BYTE bData;
    static DWORD s_dwWriteCount = 0;

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빢�삕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈펾筌욌냵�삕占쎈룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺣뿰�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き占쎈쳟占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 LBA 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    if( ( GetNextParameter( &stList, vcLBA ) == 0 ) ||
        ( GetNextParameter( &stList, vcSectorCount ) == 0 ) )
    {
        Printf( "ex) writesector 0(LBA) 10(count)\n" );
        return ;
    }
    dwLBA = AToI( vcLBA, 10 );
    iSectorCount = AToI( vcSectorCount, 10 );

    s_dwWriteCount++;
    
    // 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뀎���맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띾벨�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕占쎌��뜝�럥猶얍뜝�럥占썲뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮦�뜝�럩援꿨뜝�럥苑좑옙�뫅�맊�댚諛㏓쐻占쎈윪�뤃占�.
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴�뛼�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 4 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸떣�쐻占쎈윥占쎈탵�뜝�럥�맶�뜝�럥�쑅�뜝�럡�꺓占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 LBA 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 4 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸떣�쐻占쎈윥占쎈탵�뜝�럥�맶�뜝�럥�쑅�뜝�럡�꺓占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥堉�占쎈눀�뜝�뜴�젂占쎈ぜ占쎈�嶺뚮ㅏ援�占쎌굲�뜝�떥�궡留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�궞�뙼�봿留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌λ끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
    pcBuffer = AllocateMemory( iSectorCount * 512 );
    for( j = 0 ; j < iSectorCount ; j++ )
    {
        for( i = 0 ; i < 512 ; i += 8 )
        {
            *( DWORD* ) &( pcBuffer[ j * 512 + i ] ) = dwLBA + j;
            *( DWORD* ) &( pcBuffer[ j * 512 + i + 4 ] ) = s_dwWriteCount;            
        }
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥堉�占쎈눀�뜝�뜴�젂占쎈쳟占쎌굲占쎌넂�뜝�룞�삕�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
    if( WriteHDDSector( TRUE, TRUE, dwLBA, iSectorCount, pcBuffer ) != iSectorCount )
    {
        Printf( "Write Fail\n" );
        return ;
    }
    Printf( "LBA [%d], [%d] Sector Write Success~!!", dwLBA, iSectorCount );

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    for( j = 0 ; j < iSectorCount ; j++ )
    {
        for( i = 0 ; i < 512 ; i++ )
        {
            if( !( ( j == 0 ) && ( i == 0 ) ) && ( ( i % 256 ) == 0 ) )
            {
                Printf( "\nPress any key to continue... ('q' is exit) : " );
                if( GetCh() == 'q' )
                {
                    bExit = TRUE;
                    break;
                }
            }                

            if( ( i % 16 ) == 0 )
            {
                Printf( "\n[LBA:%d, Offset:%d]\t| ", dwLBA + j, i ); 
            }

            // 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�굜占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼臾뺤삕占쎌맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅嶺뚮씚裕わ옙�뗰옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪雅뚮냲�삕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 16占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援꿨뜝�럥�맶�뜝�럥�쑅�뜝�럥�젵 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄틮占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�뜝�럥�뿮�뜝�럩紐앭뜝�럥�맶�뜝�럥�쑅�뜏類㏃삕 0占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌뚮겲�벖占쎌돳�몭�띿삕占쎈뮡�뜝�럡�렊
            bData = pcBuffer[ j * 512 + i ] & 0xFF;
            if( bData < 16 )
            {
                Printf( "0" );
            }
            Printf( "%X ", bData );
        }
        
        if( bExit == TRUE )
        {
            break;
        }
    }
    Printf( "\n" );    
    FreeMemory( pcBuffer );    
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮲�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎌굯占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�솻洹⑥삕�뜝�럡�렊
 */
static void MountHDD( const char* pcParameterBuffer )
{
/*    if( Mount() == FALSE )
    {
        Printf( "HDD Mount Fail\n" );
        return ;
    }
    Printf( "HDD Mount Success\n" );*/
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥堉℡뜝�럩�뮡�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑(占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗輿삳뿫遊욕뜝�뜫猷귨옙釉몌옙�쐻占쎈윪�굢�굝�쐻占쎈윪�뤃占�)
 */
static void FormatHDD( const char* pcParameterBuffer )
{

    disk_t *disk = GetDisk(0);
	if(disk == 0)
	   	return;

	Printf("1.TotalSize %d sector cnt %d\n",disk->size,disk->size/512);
	fl_format(disk->size/512, "JG");

	return ;

	usb_msd_t* msd = disk->data;
	if(msd != 0)
	{
		testMSD(msd);

		Printf("1.TotalSize %d \n",msd->disk.size/512);

		fl_format(msd->disk.size/512, "JG");
	}
	else
	{
		Printf("2.TotalSize %d \n",disk->size/512);
		fl_format(disk->size, "JG");
	}
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void ShowFileSystemInformation( const char* pcParameterBuffer )
{
/*    FILESYSTEMMANAGER stManager;
    
    GetFileSystemInformation( &stManager );
    
    Printf( "================== File System Information ==================\n" );
    Printf( "Mouted:\t\t\t\t\t %d\n", stManager.bMounted );
    Printf( "Reserved Sector Count:\t\t\t %d Sector\n", stManager.dwReservedSectorCount );
    Printf( "Cluster Link Table Start Address:\t %d Sector\n", 
            stManager.dwClusterLinkAreaStartAddress );
    Printf( "Cluster Link Table Size:\t\t %d Sector\n", stManager.dwClusterLinkAreaSize );
    Printf( "Data Area Start Address:\t\t %d Sector\n", stManager.dwDataAreaStartAddress );
    Printf( "Total Cluster Count:\t\t\t %d Cluster\n", stManager.dwTotalClusterCount );*/
}

/**
 *  �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅占쎈뙕占쎈�울옙�맶�뜝�럥�쑅占쎄턀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌뱿占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈섣占쎌굲�뛾占썲뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
 */
static void CreateFile( const char* pcParameterBuffer )
{
	char name[256];
	char buffer[1024];
	PARAMETERLIST stList;

	InitializeParameter( &stList, pcParameterBuffer );
	GetNextParameter( &stList, name );
	GetNextParameter( &stList, buffer );


	void *fd = fl_fopen(name,"w");
	if(fd == 0)
	{
		Printf("%s open fail\n");
		return ;
	}

	fl_fputs(buffer,fd);

	fl_fclose(fd);
}

static void CreateDirectory( const char* pcParameterBuffer )
{
	char name[256];
	PARAMETERLIST stList;

	// 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎈즰�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
	InitializeParameter( &stList, pcParameterBuffer );
	GetNextParameter( &stList, name );

	Printf( "mkdir %s\n",name);

	fl_createdirectory(name);
}

/**
 *  �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅占쎈뙕占쎈�울옙�맶�뜝�럥�쑅占쎄턀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌뱿占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈섣占쎌굲�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�삕占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곤옙
 */
static void DeleteFile( const char* pcParameterBuffer )
{
	fl_remove(pcParameterBuffer);
}
/**
 *  �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅占쎈뙕占쎈�울옙�맶�뜝�럥�쑅占쎄턀�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌뱿占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎌뒘�뵳寃쇰쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�룞彛쒙옙維��맱袁��쐻占쎈윥占쎈쟼占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void ShowRootDirectory( const char* pcParameterBuffer )
{
	fl_listdirectory(pcParameterBuffer);
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲�뜝�럥�뉛옙�쐺獄�袁る쭟�뜝�럩援꿨뜝�럥�럸占쎈쐻占쎈짗占쎌굲�뜝�럥�걫占쎈쐻占쎈윥占쎈군占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪雅뚮짘�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占�
 */
static void WriteDataToFile( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcFileName[ 50 ];
    int iLength;
    FL_FILE* fp;
    int iEnterCount;
    BYTE bKey;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빢�삕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈펾筌욌냵�삕占쎈룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺣뿰�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き占쎈쳟占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�뮋�삕占쎄뎡�뜝�럩堉뷂옙�뼺�렭占쎈쐣占쎌굲力놂옙占썩벀沅섓옙�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    iLength = GetNextParameter( &stList, vcFileName );
    vcFileName[ iLength ] = '\0';
    if( ( iLength > ( FILESYSTEM_MAXFILENAMELENGTH - 1 ) ) || ( iLength == 0 ) )
    {
        Printf( "Too Long or Too Short File Name\n" );
        return ;
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
    fp = fl_fopen( vcFileName, "w" );
    if( fp == NULL )
    {
        Printf( "%s File Open Fail\n", vcFileName );
        return ;
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎌굯占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥���뜝�떥�궡留띰옙�쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 3占쎈쐻占쎈윥占쎄틦�뜝�뜦踰�占쎄콬�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈룶占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌ｋ끝�녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�걫�뜝�럥堉ｏ옙留긺솒�굦�꼥占쎈쐻占쎈짗占쎌굲�뜝�럥痢㏆옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占�
    iEnterCount = 0;
    while( 1 )
    {
        bKey = GetCh();
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝�뜝�럩堉싦펺�맟鍮듿뜝�뜴�뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎌굯占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥��占쎈쐻�뜝占� 3占쎈쐻占쎈윥占쎄틦�뜝�뜦踰�占쎄콬�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈룶占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌ｋ퀫�쐻占쎈윥占쎌넁�뜝�뜦維�甕겸댙�삕獒뺤룊�삕占쎌맶�뜝�럥�쑅嶺뚋삠�뺧옙�굲嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄섐占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉わ옙踰됵옙留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅占쎈뙕占쎈츐占쎌굲濾곌풜�뙔占쎌굲�뜝�럩紐뤄┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖占쎈쐻占쎈윥�땻�쉩�뒙占쎈뙔占쎌굲占쎌뜏占쎌뒱占쎌굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥筌앹뇯�쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占�
        if( bKey == KEY_ENTER )
        {
            iEnterCount++;
            if( iEnterCount >= 3 )
            {
                break;
            }
        }
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈�占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�몡�뜝�럩逾℡뜝�럩留띰옙�쐻占쎈윥占쎌몝�뜝�럩釉�占쎄턂占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪雅뚳옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌λ끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き�뜝占�
        else
        {
            iEnterCount = 0;
        }
        
        Printf( "%c", bKey );
        if( fl_fwrite( &bKey, 1, 1, fp ) != 1 )
        {
            Printf( "File Wirte Fail\n" );
            break;
        }
    }
    
    Printf( "File Create Success\n" );
    fl_fclose( fp );
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
 */
static void ReadDataFromFile( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcFileName[ 50 ];
    int iLength;
    FL_FILE* fp;
    int iEnterCount;
    BYTE bKey;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빢�삕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈펾筌욌냵�삕占쎈룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺣뿰�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き占쎈쳟占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�뮋�삕占쎄뎡�뜝�럩堉뷂옙�뼺�렭占쎈쐣占쎌굲力놂옙占썩벀沅섓옙�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    iLength = GetNextParameter( &stList, vcFileName );
    vcFileName[ iLength ] = '\0';
    if( ( iLength > ( FILESYSTEM_MAXFILENAMELENGTH - 1 ) ) || ( iLength == 0 ) )
    {
        Printf( "Too Long or Too Short File Name\n" );
        return ;
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
    fp = fl_fopen( vcFileName, "r" );
    if( fp == NULL )
    {
        Printf( "%s File Open Fail\n", vcFileName );
        return ;
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥夷⑨옙�쐻占쎈쑞占쎈쿀�뛾�룆�꼻�뜝�뜴�쐻占쎈윥獒뺤빆�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�뜝�럥�렑�뜝�럩留졾뜝�럥�맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕筌륅옙�뜝�럩逾쎾뜝�럩援꿴썒占쏙옙援�占쎌굲
    iEnterCount = 0;
    while( 1 )
    {
        if( fl_fread( &bKey, 1, 1, fp ) != 1 )
        {
            break;
        }
        Printf( "%c", bKey );
        
        // 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺤빆�쐻占쎈윥占쎈ぁ�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝�뜝�럩堉싦펺�맟鍮듿뜝�뜴�뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌λ끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮝占쎈쑏占쎄설占쎌몡�솻洹μ삌占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅嶺뚮쵓�맔占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돥占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 20占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝�뜝�럩釉ょ뙴紐꾨뼧�뜝�럩�꼥占쎈쐻占쎈짗占쎌굲�뜝�럥痢㏆옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢�궙占쎈쾳占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨λ걠占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥壤쏉옙 �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢�뵯筌띿옃鍮듿뜝�뜴�쐻占쎈윪占쎈쨮占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘�뜝�럥�맶�뜝�럥�쐾占쎈쇊�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈し癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥堉볟뜝�럥�맶�뜝�럥�쑅�뜝�럥鍮�占쎈쐻占쎈윪占쎌읆嚥싲갭횧占쎄텠占쎄슈占쎌뒱占쎌굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占�
        if( bKey == KEY_ENTER )
        {
            iEnterCount++;
            
            if( ( iEnterCount != 0 ) && ( ( iEnterCount % 20 ) == 0 ) )
            {
                Printf( "Press any key to continue... ('q' is exit) : " );
                if( GetCh() == 'q' )
                {
                    Printf( "\n" );
                    break;
                }
                Printf( "\n" );
                iEnterCount = 0;
            }
        }
    }
    fl_fclose( fp );
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥堉℡뜝�럩�뮡�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈뙀�뜝占� 占쎌녇占쎄틓占쎈뮦�뜝�럩援뀐옙�쐻占쎈윪占쎄샵�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐┼�슢理볩옙�굲 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占�
 */
static void FlushCache( const char* pcParameterBuffer )
{
/*    QWORD qwTickCount;
    
    qwTickCount = GetTickCount();
    Printf( "Cache Flush... ");
    if( FlushFileSystemCache() == TRUE )
    {
        Printf( "Pass\n" );
    }
    else
    {
        Printf( "Fail\n" );
    }
    Printf( "Total Time = %d ms\n", GetTickCount() - qwTickCount );*/
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�굩�삕占쎄뎡�뜝�럩堉뷂옙爰뗥뜝�럩援뀐옙�쐻占쎈윥占쎈뭸占쎈쐻占쎈윞占쎈뙃 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗輿삳뿫遊욕뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�뿫裕뗰옙�쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈��
 */
static void DownloadFile( const char* pcParameterBuffer )
{
 /*   PARAMETERLIST stList;
    char vcFileName[ 50 ];
    int iFileNameLength;
    DWORD dwDataLength;
    FILE* fp;
    DWORD dwReceivedSize;
    DWORD dwTempSize;
    BYTE vbDataBuffer[ SERIAL_FIFOMAXSIZE ];
    QWORD qwLastReceivedTickCount;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빢�삕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈펾筌욌냵�삕占쎈룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺣뿰�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅櫻뗫봾�뀋占쎌맶�뜝�럥�쑅�뜝�럥彛뉛옙�쐻占쎈윥占쎈젗�뜝�뜦踰�占쎄콬�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈き占쎈쳟占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�뮋�삕占쎄뎡�뜝�럩堉뷂옙�뼺�렭占쎈쐣占쎌굲力놂옙占썩벀沅섓옙�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    iFileNameLength = GetNextParameter( &stList, vcFileName );
    vcFileName[ iFileNameLength ] = '\0';
    if( ( iFileNameLength > ( FILESYSTEM_MAXFILENAMELENGTH - 1 ) ) || 
        ( iFileNameLength == 0 ) )
    {
        Printf( "Too Long or Too Short File Name\n" );
        Printf( "ex)download a.txt\n" );
        return ;
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�굩�삕占쎄뎡�뜝�럩堉뷂옙爰뗥뜝�럩援뀐옙�쐻占쎈윥占쎈뭸占쎈쐻占쎈윞占쎈뙃 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗輿삳뿫遊욕뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 FIFO�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖�뜝�럥苑좑옙�뫅�맊�댚諛㏓쐻占쎈윪�뤃占�
    ClearSerialFIFO();
    
    //==========================================================================
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싴슎嶺뚮슢�꺏占쎌굲占쎈쇀占쎈탟占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�걫�뜝�럥堉ｏ옙留긺솒�굦�꼥占쎈쐻占쎈짗占쎌굲�뜝�럥痢㏆옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쏙옙��遺얘턁筌�硫⑤쐻占쎈쑆占쎈솕�뜝�럩援꿨뜝�럩�쟼�넭怨롫봿援꿨뜝�럩堉뷂옙�렱�쐻占쎈쑆泳�占썹뵓怨쀂깍옙�쟼�넭怨살삕�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈윥占쎈탵�뜝�럥�맶�뜝�럥�쑅嶺뚮쵓�맔占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊, 4 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸떣�쐻占쎈윥占쎈탵�뜝�럥�맶�뜝�럥�쑅�뜝�럡�꺓占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺣뿰�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル쉵�슦�굲
    // Ack�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪甕곌낑�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥鍮앾옙�쐻�뜝占�
    //==========================================================================
    Printf( "Waiting For Data Length....." );
    dwReceivedSize = 0;
    qwLastReceivedTickCount = GetTickCount();
    while( dwReceivedSize < 4 )
    {
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�맔占쎌굲�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ㅼ녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
        dwTempSize = ReceiveSerialData( ( ( BYTE* ) &dwDataLength ) +
            dwReceivedSize, 4 - dwReceivedSize );
        dwReceivedSize += dwTempSize;
        
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈윛占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨λ걠占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙占쎈쐻占쎈윥�씙�뜝�럡�렊
        if( dwTempSize == 0 )
        {
            Sleep( 0 );
            
            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙��遺얘턁筌�硫⑤쐻占쎈뼩占쎈룂占쏙옙�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮瑜낆춸占쎈꺏占쎌굲占쎈쇀熬곎딆굲力놂옙沃섓퐢�맶�뜝�럥�쑅�뜝�럡�꺓 30�뜝�럥�맶�뜝�럥�쑅櫻뗫봾履뗰옙�굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽癲ル슢�뵯�뜝�룞�맊占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몝�뜝�럩釉�占쎄턂占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊 Time Out占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� �슖�떝�돳�몭�띿삕亦끸댙�삕�댆�씢�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占�
            if( ( GetTickCount() - qwLastReceivedTickCount ) > 30000 )
            {
                Printf( "Time Out Occur~!!\n" );
                return ;
            }
        }
        else
        {
            // 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윪筌띾끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�ο펲占쎈즴甕겸뫅�삕占쎄뎡癲ル슢�뵚泳��뮋�삕占쎄뎡癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮瑜낆춸占쎈꺏占쎌굲占쎈쇀熬곎딆굲力놂옙沃섓퐢�맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앷엥�쐻占쎈윥�뙴�씛�삕占쎌맶�뜝�럥�쑅占쎌젂�뜝占�
            qwLastReceivedTickCount = GetTickCount();
        }
    }
    Printf( "[%d] Byte\n", dwDataLength );

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽癲ル슢�뵯�뜝�룞�맊占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪獄��뼃�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싦펺�뮋�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢�궙占쎈쾳占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄�猷⑸뼀占쎈씮�굲占쎈き占쎄땔占쎌굲�뜝�럡�렊占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占�, Ack�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥鍮앭뜝�럥爰썲뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
    SendSerialData( "A", 1 );

    //==========================================================================
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�굩�삕占쎄뎡�뜝�럩堉뷂옙爰뗥뜝�럩援뀐옙�쐻占쎈윥占쎈뭸占쎈쐻占쎈윞占쎈뙃占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈��
    //==========================================================================
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
    fp = fopen( vcFileName, "w" );
    if( fp == NULL )
    {
        Printf( "%s File Open Fail\n", vcFileName );
        return ;
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
    Printf( "Data Receive Start: " );
    dwReceivedSize = 0;
    qwLastReceivedTickCount = GetTickCount();
    while( dwReceivedSize < dwDataLength )
    {
        // 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�占쎈뮝力놂옙癰귥옓�맶�뜝�럥�쑋�뛾占썽뇡�빘�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼嶺뚮캙維뽳옙留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈�占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占�
        dwTempSize = ReceiveSerialData( vbDataBuffer, SERIAL_FIFOMAXSIZE );
        dwReceivedSize += dwTempSize;

        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�맢占쎌뼔�у뜝�뜦維�甕곗쥜�삕筌띾끀�쐻占쎈윞占쎈쑆�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�뜝�럥�렑�뜝�럩留졾뜝�럥�맶�뜝�럥�쑅�뜝�럡�꺓 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨λ걠占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊 ACK 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럥夷ⓨ뜝�럡�맗�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥堉�占쎈눀�뜝�뜴�젂占쎈쳟占쎌굲占쎌넂�뜝�룞�삕�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
        if( dwTempSize != 0 ) 
        {
            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎌녇占쎄틓占쎈뮝�뜝�럩援⑨옙�쐻占쎈윪占쎈첐占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윪筌띾끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�ο펲占쎈즴甕겸뫅�삕占쎄뎡癲ル슢�뿪占쎌굲�뜝�럥�맶�뜝�럥�쑅嶺뚮슪�삕占쎌녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢�궙占쎌몣�뜝�뜾�꽠�ⓑ살┯占쎈쐻占쎈쑆占쎄샵嶺뚮슡�뜉占쎌맶占쎈쐻�뜝占� FIFO占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮀占쎌젂占쎈ぜ占쎈�嶺뚮ㅏ援�占쎌굲壤깍옙�몴怨멸뎡�뜝�럩堉뀐옙�굲
            // 16 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸떣�쐻占쎈윥占쎈탵�뜝�럥�맶�뜝�럥�쑅�뜝�럡�꺓占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺢난鍮듿뜝�뜴�쐻占쎈윪�억옙占쎈쐻占쎈윪筌띻쒀�삕占쎌맶�뜝�럥�쑅�뜝�럥�젵 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓�뜝�럥�몷占쎌뼔�у뜝�뜦維�甕곗쥜�삕筌띾끀�쐻占쎈윪�젆�먯삕占쎄뎡 Ack�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪甕곌낑�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥鍮앾옙�쐻�뜝占�
            if( ( ( dwReceivedSize % SERIAL_FIFOMAXSIZE ) == 0 ) ||
                ( ( dwReceivedSize == dwDataLength ) ) )
            {
                SendSerialData( "A", 1 );
                Printf( "#" );

            }
            
            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥堉�占쎈눀�뜝�뜴�젂占쎈쳟占쎌굲占쎌넂�뜝�룞�삕�뤃占� �슖�떝�돳�몭�띿삕亦끸댙�삕�댆�씢�쐻占쎈윞占쎈쑆�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥堉볡솾�꺂�뒧占쎈�뺝뜝�럥爾�占쎈쐻占쎈윪鈺곕끀�쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮―�∽옙占썼��遺얘턁筌�硫⑤쐻占쎈쑆占쎈솕�뜝�럩援뀐옙�쐻占쎈윥獄�占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸떣�쐻占쎈짗占쎌굲嚥싳쉶瑗э옙�뒭占쎄뎡 �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援�
            if( fwrite( vbDataBuffer, 1, dwTempSize, fp ) != dwTempSize )
            {
                Printf( "File Write Error Occur\n" );
                break;
            }
            
            // 占쎌녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윪筌띾끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�ο펲占쎈즴甕겸뫅�삕占쎄뎡癲ル슢�뵚泳��뮋�삕占쎄뎡癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮瑜낆춸占쎈꺏占쎌굲占쎈쇀熬곎딆굲力놂옙沃섓퐢�맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앷엥�쐻占쎈윥�뙴�씛�삕占쎌맶�뜝�럥�쑅占쎌젂�뜝占�
            qwLastReceivedTickCount = GetTickCount();
        }
        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�맢占쎌뼔�у뜝�뜦維�甕곗쥜�삕筌띾끀�쐻占쎈윞占쎈쑆�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈윛占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨λ걠占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙占쎈쐻占쎈윥�씙�뜝�럡�렊
        else
        {
            Sleep( 0 );
            
            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쏙옙��遺얘턁筌�硫⑤쐻占쎈뼩占쎈룂占쏙옙�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮瑜낆춸占쎈꺏占쎌굲占쎈쇀熬곎딆굲力놂옙沃섓퐢�맶�뜝�럥�쑅�뜝�럡�꺓 10�뜝�럥�맶�뜝�럥�쑅櫻뗫봾履뗰옙�굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽癲ル슢�뵯�뜝�룞�맊占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몝�뜝�럩釉�占쎄턂占쎈만占쎌뒙占쎈낄嫄쇿뜝�럡�렊 Time Out占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뀖獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� �슖�떝�돳�몭�띿삕亦끸댙�삕�댆�씢�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占�
            if( ( GetTickCount() - qwLastReceivedTickCount ) > 10000 )
            {
                Printf( "Time Out Occur~!!\n" );
                break;
            }
        }
    }   

    //==========================================================================
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪甕곌난�녇占쎄틓占쎈뮦�뜝�럥彛잞옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮀占쎌젂占쎈ぜ占쎈�嶺뚮ㅏ援�占쎌굲壤깍옙占쎄턁占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨살삕�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪鈺곕끀�쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕占쎌��뜝�럥�젾�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮀占쎌젂占쎈ぜ占쎈�嶺뚮ㅏ援�占쎌굲�뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖�뜝�럥苑좑옙�뱫�궡�뵱�뜝�럥���뜝�럩逾℡뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑�뜝�럥�맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈옘�뜝�럥�맶�뜝�럥�쐾占쎈쇊�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈し癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占�
    // �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル쉵�슦�굲, 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�뜝�럩肉ゅ뜝�럩援뀐옙�쐻占쎈윥�댚�엺�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎌녇占쎄틓占쎈뮦�뜝�럩援뀐옙�쐻占쎈윪占쎄샵�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐┼�슢理먩쾮�굩�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖�뜝�럥苑좑옙�뫅�맊�댚諛㏓쐻占쎈윪�뤃占�
    //==========================================================================
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먲옙�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈짗占쎌굲癲ル슪�삕嶺뚮슡�뫒占쎄뎡�뜝�럩堉싦펺�뮋�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖�뜝�럥苑좑옙�뱫�궡�뵱�뜝�럥���뜝�럩逾℡뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌뚮겭�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 �뜝�럥�맶�뜝�럥�쑅�뜝�럥堉볡솾�꺂�뒧占쎈�뺝뜝�럥爾�占쎈쐻占쎈윪鈺곕끀�쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸뱺�쐪筌먲퐢�젿�뜝�럥堉녶뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢�궙占쎈쾳占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먲퐢彛ワ옙鍮듿뜝�뜴�쐻占쎈윪占쎈쨮占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
    if( dwReceivedSize != dwDataLength )
    {
        Printf( "\nError Occur. Total Size [%d] Received Size [%d]\n", 
                 dwReceivedSize, dwDataLength );
    }
    else
    {
        Printf( "\nReceive Complete. Total Size [%d] Byte\n", dwReceivedSize );
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�뜝�럩肉ゅ뜝�럩援뀐옙�쐻占쎈윥�댚�엺�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎌녇占쎄틓占쎈뮦�뜝�럩援뀐옙�쐻占쎈윪占쎄샵�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐┼�슢理먩쾮�굩�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援꿨슖�떜媛�占쎈룜�뜝�럩援�
    fclose( fp );
    FlushFileSystemCache();*/
}

/**
 *  MP 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쎼깷�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡�꺓�뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
 */
static void ShowMPConfigurationTable( const char* pcParameterBuffer )
{
    PrintMPConfigurationTable();
}

/**
 *  IRQ占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� I/O APIC占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉わ옙踰됵옙留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪雅뚳옙 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占�(INTIN)占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 �뜝�럥�맶�뜝�럥�쐾�뜝�럥萸쇽옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈ざ�뜝�럥�맶�뜝�럥�몘嶺뚮쪇�뒻占쎌굲力놂옙占쎈탟占쎌굲�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈�섓옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡�꺓�뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈�∽옙�쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�꽴�떣�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void ShowIRQINTINMappingTable( const char* pcParameterBuffer )
{
    // I/O APIC�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쐾�뜝�럥萸쇽옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈し�뜝�럩堉뷂옙爰뗥뜝�럩援뀐옙�쐻占쎈윥占쎈엶�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼臾뺤삕占쎌맶�뜝�럥�쑅�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑋�뜝�럥痢ｅ뜝�럥�맶�뜝�럥�쑅�뜝�럩留쏙옙�쐻占쎈윥占쎌넁�뜝�뜦維�占쎈뮡占쎈쐻占쎈짗占쎈쭋占쎈쨨占쎄퐩占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵰占쎈떜�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝嚥싲갭큔占쎌맋�뜝�럩援꿨뜝�럥�몡�뜝�럥爰썲뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占�
    PrintIRQToINTINMap();
}

/**
 *  �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁⑹굲占쎈쐻占쎈윥�댚管�뒍甕곗슦�뒭占쎄뎡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉わ옙踰됵옙留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕獒뺣뿰�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮦�뜝�럥彛볟뜝�럥�걤�뜝�럩逾쎾뜝�럩援꿨뜝�럡愿뚳옙�롳옙占쏙옙留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌λ끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
 */
static void ShowInterruptProcessingCount( const char* pcParameterBuffer )
{
    INTERRUPTMANAGER* pstInterruptManager;
    int i;
    int j;
    int iProcessCount;
    char vcBuffer[ 20 ];
    int iRemainLength;
    int iLineCount;
    
    Printf( "========================== Interrupt Count ==========================\n" );
    
    // MP 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쎼깷�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡�꺓�뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈�섓옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸뱺�쐪筌먲퐢猷뤷뜝�럩援뀐옙�쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
    iProcessCount = GetProcessorCount();
    
    //==========================================================================
    //  Column �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    //==========================================================================
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏅퀫�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ㅼ녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 Column占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� �슖�떝�돳�몭�뉖눀�솒占썹댚占쏙옙�쐻占쎈윞占쎈쑆�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡 4占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸뱺�쐪筌먲퐢猶억옙�쐻占쎈윪�젆�먯삕占쎄뎡 �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� Column占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 15占쎈쐻占쎈윥占쎈닖占쎈쐻占쎈윞占쎈�뤄┼�슪�삕嶺뚮슡�뫒占쎄뎡占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띾벨�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼壤깍옙占쎄턁占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뿪占쎌굲
    for( i = 0 ; i < iProcessCount ; i++ )
    {
        if( i == 0 )
        {
            Printf( "IRQ Num\t\t" );
        }
        else if( ( i % 4 ) == 0 )
        {
            Printf( "\n       \t\t" );
        }
        SPrintf( vcBuffer, "Core %d", i );
        Printf( vcBuffer );
        
        // �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�맔占쎌굲�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜾逾볠�ⓦ끉�굲占쎈쐻占쎈윥占쎈뮝�뜝�럥鍮껓옙�쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윪獄��궍�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럥裕뗰옙�쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎌녇占쎄틓占쎈뮦�뜝�럩援꿨뜝�럥苑좑옙�뫅�맊�댚諛㏓쐻占쎈윪�뤃占�
        iRemainLength = 15 - kStrLen( vcBuffer );
        MemSet( vcBuffer, ' ', iRemainLength );
        vcBuffer[ iRemainLength ] = '\0';
        Printf( vcBuffer );
    }
    Printf( "\n" );

    //==========================================================================
    //  Row占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉わ옙踰됵옙留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占� 占쎌녇占쎄틓占쎈뮦�뜝�럥彛볟뜝�럥�걤�뜝�럩逾쎾뜝�럩援꿨뜝�럡愿뚳옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌λ끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    //==========================================================================
    // �뜝�럥�맶�뜝�럥�쑅櫻뗫봾履뗰옙�굲�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉わ옙踰됵옙留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌λ끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉わ옙踰됵옙留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쎗�뜝�뜴�쐻�뜝占� 占쎌녇占쎄틓占쎈뮦�뜝�럥彛볟뜝�럥�걤�뜝�럩逾쎾뜝�럩援꿨뜝�럡愿뚳옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌λ끀�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    iLineCount = 0;
    pstInterruptManager = kGetInterruptManager();
    for( i = 0 ; i < INTERRUPT_MAXVECTORCOUNT ; i++ )
    {
        for( j = 0 ; j < iProcessCount ; j++ )
        {
            // Row�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕, 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� �슖�떝�돳�몭�뉖눀�솒占썹댚占쏙옙�쐻占쎈윞占쎈쑆�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈츛占쎈쐻占쎈윞占쎈쭡 4占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸뱺�쐪筌먲퐢猶억옙�쐻占쎈윪�젆�먯삕占쎄뎡 �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� Column占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 15占쎈쐻占쎈윥占쎈닖占쎈쐻占쎈윞占쎈�뤄┼�슪�삕嶺뚮슡�뫒占쎄뎡占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띾벨�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占�
            if( j == 0 )
            {
                // 20 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝�뜝�럩釉ょ뙴諛몃만占쎈쐻占쎈윪�억옙占쎈쐻占쎈윪筌띻쒀�삕占쎌맶�뜝�럥�쑅�뜝�럥�젵 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쏙옙占쎌녇占쎄틓占쎈뮛�뜝�럥踰⑨옙�굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎌녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占�
                if( ( iLineCount != 0 ) && ( iLineCount > 10 ) )
                {
                    Printf( "\nPress any key to continue... ('q' is exit) : " );
                    if( GetCh() == 'q' )
                    {
                        Printf( "\n" );
                        return ;
                    }
                    iLineCount = 0;
                    Printf( "\n" );
                }
                Printf( "---------------------------------------------------------------------\n" );
                Printf( "IRQ %d\t\t", i );
                iLineCount += 2;
            }
            else if( ( j % 4 ) == 0 )
            {
                Printf( "\n      \t\t" );
                iLineCount++;
            }
            
            SPrintf( vcBuffer, "0x%Q", pstInterruptManager->vvqwCoreInterruptCount[ j ][ i ] );
            // �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�룞�맔占쎌굲�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈눇�뙼怨대춱�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟�빊占쏙옙紐댐옙援욑옙援� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윪獄��궍�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럥裕뗰옙�쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎌녇占쎄틓占쎈뮦�뜝�럩援꿨뜝�럥苑좑옙�뫅�맊�댚諛㏓쐻占쎈윪�뤃占�
            Printf( vcBuffer );
            iRemainLength = 15 - kStrLen( vcBuffer );
            MemSet( vcBuffer, ' ', iRemainLength );
            vcBuffer[ iRemainLength ] = '\0';
            Printf( vcBuffer );
        }
        Printf( "\n" );
    }
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈닖占쎈쐻占쎈윞占쏙옙占쎈쐪筌먲퐢�렂�뜝�럩援뀐옙�쐻占쎈윞占쏙옙占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣鍮뽩뜝�럥흮占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊占쎈쐻占쎈윥占쎈듋�뜝�럥�뇢�솻洹⑥삕�뜝�럡�렊
 */
static void ChangeTaskAffinity( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcID[ 30 ];
    char vcAffinity[ 30 ];
    QWORD qwID;
    BYTE bAffinity;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎈즰�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    GetNextParameter( &stList, vcID );
    GetNextParameter( &stList, vcAffinity );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉�占쎈쐻�뜝占� ID 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈�占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    if( MemCmp( vcID, "0x", 2 ) == 0 )
    {
        qwID = AToI( vcID + 2, 16 );
    }
    else
    {
        qwID = AToI( vcID, 10 );
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢占썲뜝�럥�뒌�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윥占쎈닖占쎈쐻占쎈윞占쏙옙占쎈쐪筌먲퐢�렂�뜝�럩援뀐옙�쐻占쎈윞占쏙옙占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣鍮�占쎌굲(Affinity) �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    if( MemCmp( vcID, "0x", 2 ) == 0 )
    {
        bAffinity = AToI( vcAffinity + 2, 16 );
    }
    else
    {
        bAffinity = AToI( vcAffinity, 10 );
    }
    
    Printf( "Change Task Affinity ID [0x%q] Affinity[0x%x] ", qwID, bAffinity );
    if( ChangeProcessorAffinity( qwID, bAffinity ) == TRUE )
    {
        Printf( "Success\n" );
    }
    else
    {
        Printf( "Fail\n" );
    }
}

/**
 *  VBE 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊 �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윥占쎈짂�땱�떜夷わ옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
 */
static void ShowVBEModeInfo( const char* pcParameterBuffer )
{
    VBEMODEINFOBLOCK* pstModeInfo;
    
    // VBE 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄쏆옓爾쎾뜝�럡�렊 �뜝�럥�맶�뜝�럥�쑅�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윥占쎈짂�땱�떜夷わ옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕筌륅옙�뛾占썼쥈�뫗援뀐옙�쐻占쎈윞占쎄퐶
    pstModeInfo = GetVBEModeInfoBlock();
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥筌뚮겭�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽癲ル슢�뵯�뜝�룞�맊占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣鍮볩옙肉ε뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎌죧占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援뀐옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뵩占쎈쳛�뜝�럥�맚占쎈쐻占쎈윪占쎈츧占쎈쐻占쎈윥占쎈튉嚥싳쉶瑗э옙�뒭占쎄뎡 �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨ㅼ삕
    Printf( "VESA %x\n", pstModeInfo->wWinGranulity );
    Printf( "X Resolution: %d\n", pstModeInfo->wXResolution );
    Printf( "Y Resolution: %d\n", pstModeInfo->wYResolution );
    Printf( "Bits Per Pixel: %d\n", pstModeInfo->bBitsPerPixel );
    
    Printf( "Red Mask Size: %d, Field Position: %d\n", pstModeInfo->bRedMaskSize, 
            pstModeInfo->bRedFieldPosition );
    Printf( "Green Mask Size: %d, Field Position: %d\n", pstModeInfo->bGreenMaskSize, 
            pstModeInfo->bGreenFieldPosition );
    Printf( "Blue Mask Size: %d, Field Position: %d\n", pstModeInfo->bBlueMaskSize, 
            pstModeInfo->bBlueFieldPosition );
    Printf( "Physical Base Pointer: 0x%X\n", pstModeInfo->dwPhysicalBasePointer );
    
    Printf( "Linear Red Mask Size: %d, Field Position: %d\n", 
            pstModeInfo->bLinearRedMaskSize, pstModeInfo->bLinearRedFieldPosition );
    Printf( "Linear Green Mask Size: %d, Field Position: %d\n", 
            pstModeInfo->bLinearGreenMaskSize, pstModeInfo->bLinearGreenFieldPosition );
    Printf( "Linear Blue Mask Size: %d, Field Position: %d\n", 
            pstModeInfo->bLinearBlueMaskSize, pstModeInfo->bLinearBlueFieldPosition );
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕�뜝�럥�맶�뜝�럥�쑅嶺뚋삳엠占쎌맶�뜝�럥�쑅占쎈쨨�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�쑅占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅嶺뚋뀀쳹占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쎗�뜝�룞�삕�맱�슱�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎄틦�뜝�뜦踰�占쎄콬�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮲�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
 */
static void TestSystemCall( const char* pcParameterBuffer )
{
    BYTE* pbUserMemory;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣�돵�뜝�떥�궡留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪獄�占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띾벨�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈눇�뙼怨대춱�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쏙옙占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 4Kbyte 占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈짗占쎌굲�뜝�럥�맶�뜝�럥�쐾占쎄턀占쎄뭍占쎌맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅嶺뚮엪�삕占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띾벨�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕占쎌��뜝�럥猶얍뜝�럥占썲뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎄틦�뜝�뜦踰�占쎄콬�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뮲�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뿪占쎌굲 �슖�떝�돳�몭�띿삕占쎈뮡�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅�뜝�럥�걖�뜝�럥苑좑옙�뫅�맊�댚�엺�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뿪占쎌굲
    pbUserMemory = AllocateMemory( 0x1000 );
    if( pbUserMemory == NULL )
    {
        return ;
    }
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎄틦�뜝�뜦踰�占쎄콬�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럥裕뗰옙�쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�떬�씮�굲�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뿪占쎌굲 SystemCallTestTask() 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵰占쎈떜�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁��쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 �뜝�럥�맶�뜝�럥�쐾�뜝�룞�삕占쎈쐻占쎈윞�뙼占쏙옙�쐻占쎈윥占쎈즶�뜝�럥夷ⓨ뜝�럥�솕�뜝�럩援뀐┼�슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢�뵯筌띾벨�삕占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈읁占쎈쐻占쎈윥筌앸벝�삕占쎌��뜝�럥�젾�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎌녇占쎄틓占쎈뮛�뜝�럥�뼌占쎈쐻占쎈짗占쎌굲�뜝�럥�맶�뜝�럥�쐾占쎄턀占쎄뭍占쎌맶�뜝�럥�쑅�뜝�럥�젛�뜝�럥�맶�뜝�럥�쑅占쎄괌占쎈섣占쎌굲�뛾占썲뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒占쎈뼀占쎈뼗甕겹룇�삕�뤃占썲뜝�럩援�
    MemCpy( pbUserMemory, SystemCallTestTask, 0x1000 );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎄틦�뜝�뜦踰�占쎄콬�뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럥裕뗰옙�쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
    CreateTask( TASK_FLAGS_USERLEVEL | TASK_FLAGS_PROCESS,
            pbUserMemory, 0x1000, ( QWORD ) pbUserMemory, TASK_LOADBALANCINGID );
}

static void Cat(const char* pcParameterBuffer )
{
	PARAMETERLIST stList;
	char Name[ 30 ];

	InitializeParameter( &stList, pcParameterBuffer );
	GetNextParameter( &stList, Name );

	 FL_FILE *fd = fl_fopen(Name, "r");
	 if(fd == 0)
	 {
		 Printf("fail file open [%s]\n",Name);
		 return ;
	 }

	 Printf("size %d %d\n",fd->filelength,fd->bytenum);

	 int i;
	 for(i=0;i<fd->filelength;i++)
		 Printf("%c",fl_fgetc(fd));

	 fl_fclose(fd);

}

static void SVR(const char* pcParameterBuffer )
{

	netif_t *netif = netif_findbyname ("eth0");

	sockaddr_in serverSock;

	int ncsock;
	// Create socket
	if ((ncsock = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP)) == -1) {
			Printf("Cant create socket\n");
		}

	// Fill structure sockaddr_in
	// 1) Family of protocols
	serverSock.sin_family = AF_INET;
	// 2) Number of server port
	serverSock.sin_port = htons(20001);
	// 3) Setup ip address of server, where we want to connect
	serverSock.sin_addr = netif->ip;

	net_proto_ip_print(serverSock.sin_addr);

	bind(ncsock,&serverSock,sizeof(sockaddr_in));

	char buffer[1024];
	int sfd = 0;
	sockaddr_in newsd;
	socklen_t len;

	Printf("svr fd id %d\n",ncsock);

	while(1)
	{
		sfd = accept(ncsock,&newsd,&len);
		Printf("accept fd id %d\n",sfd);
		break;
	}

	while(1)
	{
		memset(buffer,0,1000);
		int len = recv(sfd,buffer,1000,0);

		int i;
		for( i=0;i<len;i++)
		Printf("len %d [%d]\n",len,buffer[i]);
	}
	return;
}

static void Ping(const char* pcParameterBuffer )
{
	int sock;
	char sendBuffer[2048];
	char recvBuffer[2048];

	sock = connectServer2("54.180.123.125",1982 );

	int idx = 0;
	while(1)
	{
		send(sock,"0123456789",10,0);

		int len = recv(sock, recvBuffer, 2048,0);

		if(len <= 0)
			continue;

		recvBuffer[len] = 0;

		Printf ("%d_%s\n",idx,recvBuffer);

		idx++;

	}

	sclose(sock);
	return;

	PARAMETERLIST stList;
	char ip[30];
 // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎈즰�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    GetNextParameter( &stList, ip );

	netif_t *netif = netif_findbyname ("eth0");

		if (!netif) {
			Printf ("ping -> network interface does not exists\n");
			return ;
		}

		unsigned char a;
		unsigned char b;
		unsigned char c;
		unsigned char d;

		unsigned g = 0;
		unsigned i = 0;
		unsigned y = strlen (ip);

		if (!y) {
			Printf ("ping -> wrong syntax, please specify address\n");
			return ;
		}

		unsigned h[4];

		while (i < y) {
			if (ip[i] == '.') {
				ip[i] = '\0';
				h[g] = i+1;
				g ++;
			}

			i ++;
		}

		net_ipv4 target = 0;

		if (g != 3) {

			if (dns_cache_get (ip, &target, 4) != 1)
				if (dns_send_request (ip, &target, 4) != 1) {
					Printf ("ping -> bad hostname or ip address format, example: 192.168.1.1\n");
					return ;
				}
		} else {
			a = atoi (ip);
			b = atoi (ip+h[0]);
			c = atoi (ip+h[1]);
			d = atoi (ip+h[2]);

			target = NET_IPV4_TO_ADDR (a, b, c, d);
		}

		char address[20];
		net_proto_ip_convert2 (target, address);

		i = 0;

		while (i < 8) {
			unsigned long time_a = GetTickCount();
			unsigned ret = net_proto_icmp_ping (netif, target);
			if (ret) {
				Printf ("ping -> %s (%s) - %ums\n", ip, address, (GetTickCount() - time_a));
			} else {
				Printf ("ping -> Host %s is unreachable\n", ip);
				break;
			}

			i ++;
		}

		return 1;
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�⑤벤占썬꺈�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�맱猷잙쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲옙占쏙옙�뜝�럩援뀐옙�쐻占쎈윪占쎌벀占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈�㏆옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨살삕�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢理볩옙�굲
 */
static void ExecuteApplicationProgram( const char* pcParameterBuffer )
{
    PARAMETERLIST stList;
    char vcFileName[ 512 ];
    char vcArgumentString[ 1024 ];
    QWORD qwID;
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉�熬곣뫗占쏙옙�쐻占쎈윞占쎄퐶癲ル슪�삕嶺뚮―�돪�뜮�빆�돺�뜝�룞�삕占쎈즰�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷억옙�쐻占쎈윞�뙼占쏙옙�쐻占쎈윪占쎈��占쎈쐻占쎈짗占쎌굲
    InitializeParameter( &stList, pcParameterBuffer );
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럥夷ⓨ뜝�럥苡ュ뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슢理먲옙�닍�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎌녇占쎄틓占쎈뮛�뜝�럥�럵占쎈쐻占쎈윥筌뚮겭�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�걫�뜝�럡萸띶뜝�럩留띰옙�쐻占쎈윥占쎌몝癲ル슢�뀖獄�釉�鍮듿뜝�뜴�뒙占쎈낄嫄쇿뜝�럡�렊 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슣鍮볩옙肉ε뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅곗녇占쎄틓占쎈뮛�뜝�럥�럯�뜝�럩逾쀥뜝�럥�맶�뜝�럥�쑅占쎈쨨�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥猷얍뜝�럥�맶�뜝�럥�쑅嶺뚋삳꺽占쎌맶�뜝�럥�쑋�댖怨뺤탶占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈쑕占쎌맶�뜝�럥�몘力놂옙占쎄덩占쎌굲�뜝�럡�렊 �뜝�럥�맶�뜝�럥�쑅占쎈빝占쎌돥占쎌맶�뜝�럥�쐾�뜝�럡�꺎�솾�꺂�뒩�뜮占썲뜝�럩援�
    if( GetNextParameter( &stList, vcFileName ) == 0 )
    {
        Printf( "ex)exec a.elf argument\n" );
        return ;
    }  

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞�굜占� 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�甕곗쥜�삕筌띾냵�삕占쎌맶�뜝�럥�쑅�뜝�럩紐� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉わ옙踰됵옙留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윞�뙼占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥堉볡솾�꺂�뒧占쎈�뺝뜝�럥爾�占쎈쐻占쎈윞�뙼臾덈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈섀占쎄낯�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�몘�뜝�럥�넅占쎈쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡愿듸옙�쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎌녇占쎄틓占쎈뮦�뜝�럥彛볟뜝�럥�걤�뜝�럩逾쎾뜝�럩援꿨뜝�럡愿뚳옙�쐻�뜝占�
    if( GetNextParameter( &stList, vcArgumentString ) == 0 )
    {
        vcArgumentString[ 0 ] = '\0';
    }
    
    Printf( "Execute Program... File [%s], Argument [%s]\n", vcFileName, 
            vcArgumentString );
    
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛�뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉�占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
    qwID = ExecuteProgram( vcFileName, vcArgumentString, TASK_LOADBALANCINGID );
    Printf( "Task ID = 0x%Q\n", qwID );
}

/**
 *  占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럩紐긷뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍�뜝�럥�맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒占쎈뼀占쎈뼗甕겹룇�삕�뤃占썲뜝�럩援�
 */
static void InstallPackage( const char* pcParameterBuffer )
{
    PACKAGEHEADER* pstHeader;
    PACKAGEITEM* pstItem;
    WORD wKernelTotalSectorCount;
    int i;
    FL_FILE* fp;
    QWORD qwDataAddress;

    Printf( "Package Install Start...\n" );

    // �뜝�럥�맶�뜝�럥�쐾占쎈쇊�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅占쎄턀�뜝占� 占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢爰뤷뜝�럩援뀐옙�쐻占쎈윥壤쎪껊쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢嫄�占쎈쐻占쎈윪筌묒뇴�뙀占쎈쐣占쎌굲�뜝�럡�렊�솾�꺂�뒧占쎈역�뜝�럩援� 0x7C05 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃寃쇰쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥壤쏉옙 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒�뜝�럡�뒅�뜝�럥�맶�뜝�럥�쐾�뜝�럥猷� 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굝�쐻占쎈윥占쎄광癲ル슢��泳��뮋�삕占쎄뎡占쎈쐻占쎈윥�댚�엺�쐻占쎈윪�뤃占� IA-32e 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굝�쐻占쎈윥占쎄광癲ル슢�뀖占쎈뮝�뜝�럡�렊�뜝�럥�맶�뜝�럥�쑅占쎈쨨�뜝占�
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥�몧�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ъ삕占쎌맶�뜝�럥�쑅�뜝�럡愿댐옙�쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
    wKernelTotalSectorCount = *( ( WORD* ) 0x7C05 );

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉�占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싴슎占쎈뼀占쎈씮�굲占쎈き占쎌뵛占쎈윿占쎈쇀占쎌삌占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅嶺뚋우삕 0x10000 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윪占쎈츐占쎈쐻占쎈윥�뙴湲븍쐪筌먲퐢嫄�占쎈쐻占쎈윪筌묒뇴�뙀占쎈쐣占쎌굲�뜝�럡�렊占쎈쐻占쎈윥占쎈젗�뜝�럥��占쎈쇊占쎈열占쎈쿈占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈ざ占쎈쐻占쎈윥占쎈군占쎈쐻占쎈윥占쎈㎍�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�뮋�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쏙옙��遺얘턁筌�硫⑤쐻占쎈짗占쎈��뜝�럩留띰옙�쐻占쎈윥筌욎�λ쐻占쎈윪�뤃�먯삕占쎌맶�뜝�럥�쑅�뜝�럡愿듸옙�쐻占쎈윪占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占�
    // �뜝�럥�맶�뜝�럥�쑅�뜝�럥裕됵옙�쐻占쎈윞�굜�굝�쐻占쎈윥占쎄광�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뙴酉대쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�눧袁ㅼ녇占쎄틓占쎈뮛�뜝�럥�럯占쎈쐻占쎈윥獒뺚댙�삕占쎈늾占쎈쇊癰귨옙占쎄뎡 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎌녇占쎄틓占쎈뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� �뜝�럥�맶�뜝�럥�몘力놂옙�뜝�뜴�쐻占쎈윞�굜�뼹�쐻占쎈윞占쎈쑆�뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈쾷占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥壤쎪껊쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럡�뜦�뜝�럥占쎌꼻�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
    pstHeader = ( PACKAGEHEADER* ) ( ( QWORD ) 0x10000 + wKernelTotalSectorCount * 512 );

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎡占쎈쎗占쎈즴筌�猷〓쨨占쎈뙔占쎌굲嶺뚮쪋�삕占쎈쐻占쎈윞占쎈뻺占쎈쐻占쎈윥占쎌뱺�뜝�럥�맶�뜝�럥�쐾�뜝�럡�맯占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄섐占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲
    if( MemCmp( pstHeader->vcSignature, PACKAGESIGNATURE,
                 sizeof( pstHeader->vcSignature ) ) != 0 )
    {
        Printf( "Package Signature Fail\n" );
        return ;
    }

    //--------------------------------------------------------------------------
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎌녇占쎄틓占쎈뮇�뜝�럥竊묈뜝�럩�쟼�뜝�럥堉먨뜝�럥占쏙옙�쐻占쎈윞占쎄쉥占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒占쎈뼀占쎈뼗甕겹룇�삕�뤃占썲뜝�럩援�
    //--------------------------------------------------------------------------
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍占쎈쐻占쎈윥鸚롤껊쐻占쎈윥筌앸ŀ�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎄틮占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈쭡占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥夷ⓨ뜝�럥�꽣�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈쐻占쎈윪占쎈쾫占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦룂�굲
    qwDataAddress = ( QWORD ) pstHeader + pstHeader->dwHeaderSize;
    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎈쾷占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥壤쎪껊쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎌녇占쎄틓占쎈뮦�뜝�럥彛잞옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎄틦�뜝�뜦維�甕곗쥜�삕筌띾냵�삕占쎌맶�뜝�럥�쑅�뜝�럩紐� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍
    pstItem = pstHeader->vstItem;

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗輿삳뿫遊욕뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗癲ル슢�뵰占쎈떜�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎌녇占쎄틓占쎈뮛�뜝�럥占쎈뛽�궔�뜝�뜴�쐻占쎈쑟占쎌럸占쎈쐻占쎈쑕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎌녇占쎄틓占쎈뮇�뜝�럥竊묈뜝�럩�쟼�뜝�럥堉먨뜝�럥占쏙옙�쐻占쎈윞占쎄쉥占쎈쐻占쎈윪�뤃轅⑤쐻占쎈윥�뜮�빢�삕占쎌맶占쎈쐻�뜝占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒占쎈뼀占쎈뼗甕겹룇�삕�뤃占썲뜝�럩援�
    for( i = 0 ; i < pstHeader->dwHeaderSize / sizeof( PACKAGEITEM ) ; i++ )
    {
        Printf( "[%d] file: %s, size: %d Byte\n", i + 1, pstItem[ i ].vcFileName,
                 pstItem[ i ].dwFileLength );

        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗輿삳뿫遊욕뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗癲ル슢�뵰占쎈떜�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싦펺�뮋�삕占쎄뎡�뜝�럩堉뷂옙�뼺�렭占쎈쐣占쎌굲力놂옙占쏙옙壤쏆���삕獄��씛�삕占쎈츐占쎈쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽�뜝�럥�떛嶺뚮　維�占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌졑
        fp = fl_fopen( pstItem[ i ].vcFileName, "w" );
        if( fp == NULL )
        {
            Printf( "%s File Create Fail\n" );
            return ;
        }

        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�땻�뼹�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈윥�뜝�럩�돸占쎈돗�뜝�럩�뮝�뜝�럥琉덌옙�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥占쎄콣占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌맽占쎈쐻占쎈윥占쎌끍 �뜝�럥�맶�뜝�럥�쐾占쎈쇊�뜝�뜴�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎈굳占쎈눇�뙼怨대츍辱됰봾�쐣占쎌굲力놂옙筌믩끃�굲�뛾占썲뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗輿삳뿫遊욕뜝�떥�궡留띰옙�쐻占쎈윥占쎌몗癲ル슢�뵰占쎈떜�뜝�럩留띰옙�쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윥筌μ렱�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럥�렓占쎈쐻占쎈짗占쎌굲�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥夷⑨옙�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윞占쎈뼃占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌맽�뜝�럥堉��뜝�럩�뭶�뜝�럥裕뗰옙�쐻占쎈윥占쎌넅占쎈쐻占쎈윪�뤃占� 占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭒占쎈뼀占쎈뼗甕겹룇�삕�뤃占썲뜝�럩援�
        if( fl_fwrite( ( BYTE* ) qwDataAddress, 1, pstItem[ i ].dwFileLength, fp ) !=
                pstItem[ i ].dwFileLength )
        {
            Printf( "Write Fail\n" );

            // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�뜝�럩肉ゅ뜝�럩援뀐옙�쐻占쎈윥�댚�엺�쐻占쎈윪�뤃占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎌녇占쎄틓占쎈뮦�뜝�럩援뀐옙�쐻占쎈윪占쎄샵�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐┼�슢理먩쾮�굩�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援꿨슖�떜媛�占쎈룜�뜝�럩援�
            fl_fclose( fp );
           // FlushFileSystemCache();

            return ;
        }

        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝占쎈쎗�뜝�뜴�쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�뜝�럩逾℡뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲
        fl_fclose( fp );

        // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗�뜝�럩�쟼�넭怨살삕�뜝�럩留띰옙�쐻占쎈윥占쎌몝占쎈탶�ⓦ끉�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩釉��뙼�봿留띰옙�쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥筌욎�λ쐻占쎈윪�뤃轅⑤쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝占쎈쐻占쎈윞占쎈�섓옙�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗傭��끉猷딉옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝癲ル슢�뵩占쎈첍�뜝�럥�닖占쎈쐻占쎈윞占쏙옙�뜝�럥�걤�뜝�럩紐�占쎈쑏占쎈�섓옙�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉싳㏏�뜝�럩留띰옙�쐻占쎈윥占쎌몗癲ル슣�돸占쎌굲
        qwDataAddress += pstItem[ i ].dwFileLength;
    }

    Printf( "Package Install Complete\n" );

    // 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐻占쎈윥�댆�벩�쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몝�뜝�럩堉뀐옙�굲 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌몗癲ル슢理먩쾮�엪�삕占쎈㎍占쎈쐻占쎈윥占쎌몗占쎈쐪筌먦끉�룯�뜝�럩留띰옙�쐻占쎈윥占쎌몗�뜝�럥�맶�뜝�럥吏쀥뜝�럩援� 占쎌녇占쎄틓占쎈뮦�뜝�럩援뀐옙�쐻占쎈윪占쎄샵�뜝�럥�맶�뜝�럥吏쀥뜝�럩援뀐┼�슢理먩쾮�굩�삕占쎄뎡癲ル슢�뀖占쎈폖�뜝�럩留뜹뜝�럥�맶占쎈쐻�뜝占� 占쎈쐻占쎈윥占쎈㎍占쎈쐻占쎈윥占쎌맽占쎈쐻占쎈짗占쎌굲占쎈쐻占쎈윪占쎈�뉛옙�쐺獄�袁る쭟�뜝�럩援꿨슖�떜媛�占쎈룜�뜝�럩援�
   // FlushFileSystemCache();
}

